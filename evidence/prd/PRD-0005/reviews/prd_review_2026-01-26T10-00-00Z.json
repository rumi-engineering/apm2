{
  "schema_version": "1.0.0",
  "prd_id": "PRD-0005",
  "review_timestamp": "2026-01-26T10-00-00Z",
  "review_depth": "COUNCIL",

  "gates": [
    {
      "gate_id": "GATE-PRD-SCHEMA",
      "type": "TRUSTED",
      "status": "PASSED",
      "findings": [],
      "evidence": {
        "files_parsed": 38,
        "parse_errors": 0
      }
    },
    {
      "gate_id": "GATE-PRD-LINT",
      "type": "TRUSTED",
      "status": "PASSED",
      "findings": [],
      "evidence": {
        "placeholders_found": 0,
        "tabs_found": 0
      }
    },
    {
      "gate_id": "GATE-PRD-TRACEABILITY",
      "type": "DETERMINISTIC",
      "status": "PASSED",
      "findings": [],
      "evidence": {
        "requirements_count": 12,
        "evidence_artifacts_count": 11,
        "orphan_requirements": 0,
        "orphan_evidence": 0,
        "broken_refs": 0
      }
    },
    {
      "gate_id": "GATE-PRD-CCP-MAPPING",
      "type": "DETERMINISTIC",
      "status": "SKIPPED",
      "findings": [],
      "evidence": {
        "reason": "component_atlas.yaml does not exist - bootstrap PRD creating CCP infrastructure"
      }
    },
    {
      "gate_id": "GATE-PRD-QUALITY-COVERAGE",
      "type": "DETERMINISTIC",
      "status": "FAILED",
      "findings": ["FND-PRD-0005-001"],
      "evidence": {
        "dimensions_found": 10,
        "dimensions_required": 18,
        "missing_dimensions": [
          "ACCESSIBILITY",
          "COST_EFFICIENCY",
          "DATA_PRIVACY",
          "INTEROPERABILITY",
          "OPERATIONAL_READINESS",
          "RECOVERY_ROLLBACK",
          "RELIABILITY",
          "RESILIENCE"
        ]
      }
    },
    {
      "gate_id": "GATE-PRD-EVIDENCE-STANDARDS",
      "type": "DETERMINISTIC",
      "status": "PASSED",
      "findings": [],
      "evidence": {
        "artifacts_checked": 11,
        "missing_fields": 0
      }
    },
    {
      "gate_id": "GATE-PRD-CONTENT",
      "type": "LLM-ASSISTED",
      "status": "NEEDS_REMEDIATION",
      "findings": [
        "FND-PRD-0005-002",
        "FND-PRD-0005-003",
        "FND-PRD-0005-004",
        "FND-PRD-0005-005",
        "FND-PRD-0005-006",
        "FND-PRD-0005-008",
        "FND-PRD-0005-009",
        "FND-PRD-0005-010",
        "FND-PRD-0005-011",
        "FND-PRD-0005-012"
      ],
      "evidence": {
        "angles_executed": 10,
        "angles_required": 8
      }
    }
  ],

  "findings": [
    {
      "finding_id": "FND-PRD-0005-001",
      "gate_id": "GATE-PRD-QUALITY-COVERAGE",
      "category": "QUALITY_DEFECT",
      "subcategory": "UNCOVERED",
      "severity": "BLOCKER",
      "location": {
        "file": "documents/prds/PRD-0005/10_quality_framework.yaml",
        "yaml_path": "prd_quality_framework.dimensions"
      },
      "location_type": "QUALITY",
      "description": "Quality framework contains only 10 of the required 18 dimensions. Missing: ACCESSIBILITY, COST_EFFICIENCY, DATA_PRIVACY, INTEROPERABILITY, OPERATIONAL_READINESS, RECOVERY_ROLLBACK, RELIABILITY, RESILIENCE",
      "remediation": "Add the 8 missing dimensions with appropriate applicability. For dimensions that DOES_NOT_APPLY, include exception.requested=true, exception.rationale, and exception.required_signoffs.",
      "agreement_status": "UNANIMOUS",
      "source_agents": ["SA-1", "SA-2", "SA-3"],
      "source_cycle": 1,
      "signature": "a1b2c3d4e5f6g7h8"
    },
    {
      "finding_id": "FND-PRD-0005-002",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["REUSE_POTENTIAL"],
      "category": "TRACEABILITY_DEFECT",
      "subcategory": "UNGROUNDED_SOLUTION",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/04_solution_overview.yaml",
        "yaml_path": "prd_solution_overview.key_components"
      },
      "location_type": "SOLUTION",
      "description": "Solution overview references 10 key components but does not map them to existing codebase abstractions or explicitly declare them as net-new substrate.",
      "remediation": "Add a 'CCP Bootstrap' section explicitly listing existing abstractions to extend (CLI command framework, ProcessRunner), net-new substrate with justification, and initial atlas entries for components.",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-1", "SA-3"],
      "source_cycle": 1,
      "signature": "b2c3d4e5f6g7h8i9"
    },
    {
      "finding_id": "FND-PRD-0005-003",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["TECHNICAL_FEASIBILITY"],
      "category": "SPEC_DEFECT",
      "subcategory": "UNDERSPECIFIED",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/requirements/REQ-0003.yaml",
        "yaml_path": "prd_requirement"
      },
      "location_type": "REQUIREMENT",
      "description": "REQ-0003 requires mapping requirements to components but doesn't specify the algorithm or heuristics for candidate component selection, complexity bounds, or latency targets.",
      "remediation": "Add acceptance criterion specifying algorithm class (semantic similarity, keyword extraction, LLM-assisted), complexity bound, and latency target for Impact Map generation.",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-1", "SA-2"],
      "source_cycle": 1,
      "source_mode": 19,
      "signature": "c3d4e5f6g7h8i9j0"
    },
    {
      "finding_id": "FND-PRD-0005-004",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["TECHNICAL_FEASIBILITY"],
      "category": "SPEC_DEFECT",
      "subcategory": "IMPLICIT_DEPENDENCY",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/requirements/REQ-0005.yaml",
        "yaml_path": "prd_requirement"
      },
      "location_type": "REQUIREMENT",
      "description": "REQ-0005 specifies 'cousin abstraction detector' using 'heuristic similarity' but doesn't specify similarity metric, trigger threshold, or false positive management.",
      "remediation": "Add acceptance criteria specifying similarity metric (AST structural, naming pattern, semantic embedding), trigger threshold (e.g., >0.7), and false positive management (ignore list, waiver).",
      "agreement_status": "UNANIMOUS",
      "source_agents": ["SA-1", "SA-2", "SA-3"],
      "source_cycle": 1,
      "source_mode": 43,
      "signature": "d4e5f6g7h8i9j0k1"
    },
    {
      "finding_id": "FND-PRD-0005-005",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["VERIFIABILITY"],
      "category": "EVIDENCE_DEFECT",
      "subcategory": "CRITERION_VAGUE",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/requirements/REQ-0004.yaml",
        "yaml_path": "prd_requirement.acceptance_criteria[2]"
      },
      "location_type": "REQUIREMENT",
      "description": "Criterion 'RFC drafts include an alternatives section reflecting the design space exploration' is not falsifiable. An agent could emit a trivial alternatives section.",
      "remediation": "Replace with: 'RFC drafts MUST include alternatives section with >= 2 design options, each with documented strengths/weaknesses, and explicit rationale for selected approach referencing CCP constraints.'",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-1", "SA-3"],
      "source_cycle": 1,
      "source_mode": 8,
      "signature": "e5f6g7h8i9j0k1l2"
    },
    {
      "finding_id": "FND-PRD-0005-006",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["VERIFIABILITY"],
      "category": "EVIDENCE_DEFECT",
      "subcategory": "CRITERION_VAGUE",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/05_success_metrics.yaml",
        "yaml_path": "prd_success_metrics.metrics[3]"
      },
      "location_type": "GOALS",
      "description": "MET-0004 'Reuse ratio >= 80% extend-existing' lacks operational definition. Without clear boundaries between 'extend-existing' and 'net-new', this metric is gameable.",
      "remediation": "Define explicit boundary: extend-existing = changes only to existing files with no new top-level named items; net-new = any new top-level named item or new file.",
      "agreement_status": "UNANIMOUS",
      "source_agents": ["SA-1", "SA-2", "SA-3"],
      "source_cycle": 1,
      "source_mode": 76,
      "signature": "f6g7h8i9j0k1l2m3"
    },
    {
      "finding_id": "FND-PRD-0005-008",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["TRADEOFF_ANALYSIS"],
      "category": "SPEC_DEFECT",
      "subcategory": "HIDDEN_COST",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/06_constraints_invariants.yaml",
        "yaml_path": "prd_constraints_invariants.constraints[0]"
      },
      "location_type": "GOALS",
      "description": "CON-0001 requires deterministic compilation but hidden costs (LLM non-determinism requires temp=0 + seed + structured output; trades expressiveness for reproducibility) are not acknowledged.",
      "remediation": "Add explicit tradeoff acknowledgment in 08_risks_questions.yaml documenting the cost of strict determinism and mitigation via 'determinism envelope' allowing bounded non-determinism in free-text fields.",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-1", "SA-2"],
      "source_cycle": 1,
      "source_mode": 45,
      "signature": "g7h8i9j0k1l2m3n4"
    },
    {
      "finding_id": "FND-PRD-0005-009",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["SYSTEM_DYNAMICS"],
      "category": "SPEC_DEFECT",
      "subcategory": "SECOND_ORDER_HARM",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/requirements/REQ-0011.yaml",
        "yaml_path": "prd_requirement"
      },
      "location_type": "REQUIREMENT",
      "description": "REQ-0011 (Refactor Radar) creates continuous maintenance workstream with second-order effects: alert fatigue, feature conflict, gaming. RSK-0005 acknowledges but mitigations are vague.",
      "remediation": "Add quantitative bounds: 'Radar MUST emit <= 5 maintenance tickets per week per crate', include expected impact score with minimum threshold, require AUTH_PRODUCT approval for blocking tickets.",
      "agreement_status": "UNANIMOUS",
      "source_agents": ["SA-1", "SA-2", "SA-3"],
      "source_cycle": 1,
      "source_mode": 43,
      "signature": "h8i9j0k1l2m3n4o5"
    },
    {
      "finding_id": "FND-PRD-0005-010",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["COHERENCE_CONSISTENCY"],
      "category": "SPEC_DEFECT",
      "subcategory": "INCOMPLETENESS",
      "severity": "MINOR",
      "location": {
        "file": "documents/prds/PRD-0005/04_solution_overview.yaml",
        "yaml_path": "prd_solution_overview.mvp_contract.deferred_to_phase_2"
      },
      "location_type": "SOLUTION",
      "description": "MVP defers 'Material-diff acceptance workflow' to Phase 2, but REQ-0008 AC4 requires acceptance before applying changes. Inconsistency: is acceptance required in MVP or not?",
      "remediation": "Clarify: Move acceptance workflow to MVP scope, or revise REQ-0008 AC4 to 'Material diffs are reported but not enforced in MVP; enforcement deferred to Phase 2.'",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-1", "SA-2"],
      "source_cycle": 1,
      "source_mode": 7,
      "signature": "i9j0k1l2m3n4o5p6"
    },
    {
      "finding_id": "FND-PRD-0005-011",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["OPERATIONAL_READINESS"],
      "category": "SPEC_DEFECT",
      "subcategory": "MISSING_ROLLBACK",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/04_solution_overview.yaml",
        "yaml_path": "prd_solution_overview.mvp_contract.promote"
      },
      "location_type": "SOLUTION",
      "description": "Promote workflow writes to governed documents but no rollback mechanism is specified. No revert command, backup preservation, or rollback workflow.",
      "remediation": "Add rollback specification: backup location, rollback command (apm2 factory rollback --run <RUN_ID> or git revert), atomic commit requirement.",
      "agreement_status": "UNANIMOUS",
      "source_agents": ["SA-1", "SA-2", "SA-3"],
      "source_cycle": 1,
      "source_mode": 47,
      "signature": "j0k1l2m3n4o5p6q7"
    },
    {
      "finding_id": "FND-PRD-0005-012",
      "gate_id": "GATE-PRD-CONTENT",
      "angle_ids": ["SECURITY_POSTURE"],
      "category": "EVIDENCE_DEFECT",
      "subcategory": "UNDEFINED_NETWORK",
      "severity": "MAJOR",
      "location": {
        "file": "documents/prds/PRD-0005/requirements/REQ-0007.yaml",
        "yaml_path": "prd_requirement"
      },
      "location_type": "REQUIREMENT",
      "description": "REQ-0007 specifies model routing but doesn't specify: provider endpoint resolution, network egress policy, or prompt injection prevention from provider responses.",
      "remediation": "Add: provider endpoints from governed allow-list, default-deny network egress, response schema validation before parsing.",
      "agreement_status": "MAJORITY",
      "source_agents": ["SA-2", "SA-3"],
      "source_cycle": 1,
      "source_mode": 79,
      "signature": "k1l2m3n4o5p6q7r8"
    }
  ],

  "verdict": "NEEDS_REMEDIATION",
  "verdict_reason": "1 BLOCKER finding (FND-PRD-0005-001: missing 8 quality dimensions) and 10 MAJOR findings require remediation before approval.",

  "council_metadata": {
    "session_id": "COUNCIL-PRD-0005-20260126-100000",
    "subagents": [
      {
        "agent_id": "SA-1",
        "emergent_role": "Formal Rigorist",
        "selected_modes": [1, 7, 8, 43, 75]
      },
      {
        "agent_id": "SA-2",
        "emergent_role": "Practical Optimizer",
        "selected_modes": [19, 45, 47, 48, 79]
      },
      {
        "agent_id": "SA-3",
        "emergent_role": "Causal Detective",
        "selected_modes": [13, 37, 39, 41, 76]
      }
    ],
    "cycles_completed": 3,
    "total_findings_generated": 13,
    "findings_after_dedup": 12,
    "findings_excluded_by_quorum": 1,
    "contested_items_resolved": 11,
    "quorum_achieved": true
  },

  "north_star_assessment": {
    "phase_scores": [0.85, 0.25, 0.10, 0.00, 0.00],
    "primary_phase_alignment": 1,
    "strategic_recommendations": [
      {
        "recommendation": "Consider adding extensibility hooks for external CCP providers (GitHub Copilot Workspace, Cursor context providers) to accelerate Phase 3 partnership potential.",
        "target_phase": 3,
        "effort": "LOW",
        "impact": "MEDIUM"
      }
    ],
    "violations": []
  },

  "adversarial_evidence": {
    "gaming_vectors": [
      {
        "criterion": "REQ-0002.AC-2: Component IDs are stable across runs",
        "gaming_method": "Use monotonic counter for IDs - stable but semantically meaningless",
        "countermeasure": "IDs MUST be content-derived (hash of path+invariants) not sequence-based"
      },
      {
        "criterion": "REQ-0005.AC-2: Cousin detector emits finding when similarity triggers",
        "gaming_method": "Set threshold so high nothing triggers",
        "countermeasure": "Require threshold to be documented and auditable; test with known cousins"
      },
      {
        "criterion": "MET-0004: Reuse ratio >= 80%",
        "gaming_method": "Split large changes into many trivial 'extend' tickets and few 'new' tickets",
        "countermeasure": "Weight by complexity (LOC changed, not ticket count)"
      }
    ],
    "cousin_search_results": [
      {
        "requirement": "REQ-0001 (StageRunner)",
        "existing_component": "ProcessRunner in apm2 CLI",
        "overlap_percentage": 40,
        "recommendation": "EXTEND"
      },
      {
        "requirement": "REQ-0012 (NDJSON observability)",
        "existing_component": "Structured logging in apm2 daemon",
        "overlap_percentage": 60,
        "recommendation": "REUSE"
      },
      {
        "requirement": "REQ-0007 (Model routing)",
        "existing_component": "None found",
        "overlap_percentage": 0,
        "recommendation": "JUSTIFIED_NEW"
      }
    ],
    "tradeoffs": [
      {
        "decision": "Strict determinism envelope",
        "benefit": "Reproducible outputs, auditable provenance",
        "cost": "Reduced expressiveness in free-text fields; potential quality loss",
        "acceptable": true
      },
      {
        "decision": "Crash-only, restartable stages",
        "benefit": "Robustness to transient failures; simple recovery model",
        "cost": "Higher storage overhead (persisted intermediate artifacts)",
        "acceptable": true
      },
      {
        "decision": "Default-deny network for compilation",
        "benefit": "Security; prevents unintended data exfiltration",
        "cost": "Cannot use cloud-hosted LLMs without explicit allow-listing",
        "acceptable": true
      }
    ],
    "meta_improvement": {
      "target_file": "references/ANGLE_PROMPTS.md",
      "proposal": "Add 'CCP Bootstrap Angle' for infrastructure PRDs that create foundational capabilities, checking for bootstrap paradoxes, self-application feasibility, and emergence risks."
    }
  },

  "angle_coverage": {
    "prd_id": "PRD-0005",
    "review_timestamp": "2026-01-26T10-00-00Z",
    "angles": [
      {"angle_id": "TECHNICAL_FEASIBILITY", "required": true, "executed": true, "finding_count": 2},
      {"angle_id": "CUSTOMER_VALUE", "required": true, "executed": true, "finding_count": 0},
      {"angle_id": "IMPLEMENTATION_RISK", "required": true, "executed": true, "finding_count": 0},
      {"angle_id": "REUSE_POTENTIAL", "required": true, "executed": true, "finding_count": 1},
      {"angle_id": "VERIFIABILITY", "required": true, "executed": true, "finding_count": 2},
      {"angle_id": "OPERATIONAL_READINESS", "required": false, "executed": true, "finding_count": 1},
      {"angle_id": "SECURITY_POSTURE", "required": false, "executed": true, "finding_count": 1},
      {"angle_id": "COHERENCE_CONSISTENCY", "required": true, "executed": true, "finding_count": 1},
      {"angle_id": "TRADEOFF_ANALYSIS", "required": true, "executed": true, "finding_count": 1},
      {"angle_id": "SYSTEM_DYNAMICS", "required": true, "executed": true, "finding_count": 1}
    ],
    "summary": {
      "total_angles": 10,
      "required_angles": 8,
      "executed_angles": 10,
      "required_executed": 8
    }
  }
}
