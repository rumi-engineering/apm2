adjudication:
  duplication_risks:
    - competing_components:
      - COMP-HOLON
      - COMP-CORE
      competing_extension_points:
      - EXT-HOLON-TRAIT
      - EXT-CORE-ADAPTER
      rationale: Multiple high-confidence extension points (2) could satisfy this requirement
      recommendation: Review requirement scope and select the most appropriate extension point. Consider whether the requirement should be split into multiple smaller requirements.
      requirement_id: REQ-0010
      severity: high
  high_confidence_count: 4
  needs_review_count: 8
  net_new_requirements:
    - reason: No matching components found in CCP index
      requirement_id: REQ-0001
      requirement_title: Single-command Idea Compiler entrypoint
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0002
      requirement_title: Codebase Context Pack generation
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0003
      requirement_title: Requirement-to-component impact mapping
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0004
      requirement_title: RFC framing grounded in CCP and Impact Map
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0006
      requirement_title: Atomic ticket decomposition with migration and verification
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0007
      requirement_title: Multi-model routing with explicit profiles and provenance
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0008
      requirement_title: Determinism envelope and material-diff acceptance
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
    - reason: No matching components found in CCP index
      requirement_id: REQ-0011
      requirement_title: Continuous Refactor Radar stage
      suggested_approach: This requirement needs a new module. Create a justification in the RFC's design decisions section.
  total_requirements: 12
ccp_index_hash: f6bb3e7
content_hash: fe091e5fb956ca91561716a7d64f1de93e824d89f6e27ba88a031d428097c041
generated_at: "2026-01-26T19:24:59.788998032Z"
prd_id: PRD-0005
requirement_mappings:
  - candidates: []
    needs_review: true
    requirement_id: REQ-0001
    requirement_statement: "The system MUST provide a deterministic CLI entrypoint in the core `apm2` CLI\nthat orchestrates the Idea Compiler pipeline end-to-end and can also execute\neach stage independently."
    requirement_title: Single-command Idea Compiler entrypoint
  - candidates: []
    needs_review: true
    requirement_id: REQ-0002
    requirement_statement: "The compiler MUST generate a Codebase Context Pack (CCP) for a given repository\ncheckout, including:\n  (a) a component atlas with stable component IDs and invariants,\n  (b) a crate dependency graph..."
    requirement_title: Codebase Context Pack generation
  - candidates: []
    needs_review: true
    requirement_id: REQ-0003
    requirement_statement: The compiler MUST map each PRD requirement to one or more existing codebase components and extension points identified in the CCP, producing a deterministic Impact Map artifact used by RFC framing.
    requirement_title: Requirement-to-component impact mapping
  - candidates: []
    needs_review: true
    requirement_id: REQ-0004
    requirement_statement: "The compiler MUST produce RFC drafts that are grounded in the CCP and Impact Map. RFC outputs MUST:\n  (a) reference concrete crates/modules/files in the current repo state,\n  (b) document extension..."
    requirement_title: RFC framing grounded in CCP and Impact Map
  - candidates:
    - component_id: COMP-XTASK
      component_name: xtask
      extension_point_id: EXT-XTASK-LINT
      fit_score: high
      rationale: "Exact match: requirement mentions module 'lint'"
      similarity_score: 0.07142857142857142
    needs_review: false
    requirement_id: REQ-0005
    requirement_statement: "The system MUST extend linting for RFCs and tickets to prevent clutter and accidental duplication.\nThe lint extensions MUST implement:\n  (a) no-new-module without explicit justification,\n  (b) a co..."
    requirement_title: RFC and ticket lint extensions to prevent clutter
  - candidates: []
    needs_review: true
    requirement_id: REQ-0006
    requirement_statement: The compiler MUST emit atomic engineering tickets from RFCs. Tickets MUST be low-noise and implementation-ready, including file-level guidance, explicit dependencies, verification commands, and mig...
    requirement_title: Atomic ticket decomposition with migration and verification
  - candidates: []
    needs_review: true
    requirement_id: REQ-0007
    requirement_statement: "The compiler MUST support running stages across multiple model providers and versions via a versioned routing profile.\nThe routing profile MUST pin provider, model, and version per stage by default..."
    requirement_title: Multi-model routing with explicit profiles and provenance
  - candidates: []
    needs_review: true
    requirement_id: REQ-0008
    requirement_statement: The compiler MUST enforce a determinism envelope for all stage outputs. Outputs MUST be written with stable ordering and atomic replacement, and re-running compilation with identical inputs MUST pr...
    requirement_title: Determinism envelope and material-diff acceptance
  - candidates:
    - component_id: COMP-CORE
      component_name: apm2-core
      extension_point_id: EXT-CORE-ADAPTER
      fit_score: high
      rationale: "Exact match: requirement mentions module 'lease'"
      similarity_score: 0.025
    needs_review: false
    requirement_id: REQ-0009
    requirement_statement: "The compiler MUST integrate with core auth abstractions to attest compilation runs.\nEach compile run MUST obtain a CompilationLease (local dev may use ephemeral keys) and emit a signed run manifest..."
    requirement_title: Auth and provenance integration for compiler runs
  - candidates:
    - component_id: COMP-CORE
      component_name: apm2-core
      extension_point_id: EXT-CORE-ADAPTER
      fit_score: high
      rationale: "Exact match: requirement mentions module 'work'"
      similarity_score: 0.0625
    - component_id: COMP-HOLON
      component_name: apm2-holon
      extension_point_id: EXT-HOLON-TRAIT
      fit_score: high
      rationale: "Exact match: requirement mentions module 'skill'"
      similarity_score: 0.05263157894736842
    needs_review: false
    requirement_id: REQ-0010
    requirement_statement: The system MUST integrate the compiler pipeline into the skill library so that a human operator can relay a conversation summary and an agent can execute the full PRD->RFC->ticket workflow determin...
    requirement_title: Skill system integration for operator and agent workflows
  - candidates: []
    needs_review: true
    requirement_id: REQ-0011
    requirement_statement: "The compiler MUST provide a Refactor Radar stage that continuously emits maintenance recommendations based on CCP signals.\nRadar outputs MUST be bounded and must prioritize measurable simplificatio..."
    requirement_title: Continuous Refactor Radar stage
  - candidates:
    - component_id: COMP-XTASK
      component_name: xtask
      extension_point_id: EXT-XTASK-LINT
      fit_score: high
      rationale: "Exact match: requirement mentions module 'lint'"
      similarity_score: 0.0625
    needs_review: false
    requirement_id: REQ-0012
    requirement_statement: The compiler MUST emit structured observability for every run and stage, including NDJSON event logs, typed findings, stable exit codes, and run manifests capturing timings and lint receipts.
    requirement_title: Structured observability for compilation runs
schema_version: "2026-01-26"
summary:
  duplication_risks: 1
  high_confidence_matches: 4
  needs_review: 8
  net_new_count: 8
  total_requirements: 12
