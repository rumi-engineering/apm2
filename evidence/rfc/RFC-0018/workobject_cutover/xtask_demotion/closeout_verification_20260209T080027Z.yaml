evidence_capture:
  schema_version: "2026-01-23"
  evidence_id: "EVID-HEF-0017"
  capture_timestamp: "2026-02-09T08:00:27Z"
  base_sha: "9e0a4c3fe01ce378c45a04bf16485856810fc83f"
  context:
    ticket_id: "TCK-00419"
    rfc_id: "RFC-0018"
    stage: "closeout"
    description: |
      Final verification of staged xtask demotion (Stage-3 complete).
      The xtask crate has been fully removed (PR #516). All lifecycle
      authority now resides in the apm2 fac CLI. CI lint guards
      prevent reintroduction of deprecated lifecycle commands.
  merged_prs:
    - number: 503
      title: "feat(TCK-00419): staged xtask demotion + instruction-plane cutover"
      merged_at: "2026-02-08T15:00:25Z"
      scope: "Stage-2 default: projection-request/receipt mode, instruction-plane lockstep, CI lint guard"
    - number: 516
      title: "chore: remove xtask crate, replace with apm2 CLI"
      merged_at: "2026-02-09T07:53:03Z"
      scope: "Stage-3: xtask crate removal (-27,348 lines), skill doc cutover to apm2 fac equivalents"
  definition_of_done:
    criteria:
      - criterion: "Stage-2 default lifecycle path avoids direct write side-effects."
        status: "SATISFIED"
        evidence: "xtask crate removed entirely; apm2 fac CLI is sole lifecycle authority path."
      - criterion: "Instruction assets and runtime behavior are lockstep and verifiable."
        status: "SATISFIED"
        evidence: "14 skill reference documents updated (PR #516); no stale cargo xtask references remain in instruction surfaces."
      - criterion: "CI fails on deprecated lifecycle control command reintroduction."
        status: "SATISFIED"
        evidence: "check_lifecycle_instruction_surface.sh and no_direct_status_write_commands.sh both pass."
  verification_results:
    - command_id: "CMD-HEF-0017"
      command: "bash scripts/lint/check_lifecycle_instruction_surface.sh && bash scripts/lint/no_direct_status_write_commands.sh && cargo test --workspace"
      exit_code: 0
      summary:
        lifecycle_lint: "passed (0 deprecated references found)"
        status_write_lint: "passed"
        workspace_tests: "all passed (4871+ tests across all crates, 0 failures)"
