prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "REQ-0008"
  type: "FUNCTIONAL"
  title: "Typed quantities and context budgets"
  statement: |
    Budgets, timeouts, costs, and probabilities MUST be expressed as typed quantities
    with explicit units. ContextPack compilation and validation MUST reject packs
    exceeding token/artifact/byte budgets.
  acceptance_criteria:
    - "Budgets use typed quantities with explicit units. Verified by: Budget fields validate against quantity schema with unit field."
    - "Typed quantities reject unknown units. Verified by: Schema validation rejects quantities with invalid unit values."
    - "Pack compilation enforces budget ceilings. Verified by: Pack exceeding budget triggers compilation failure."
    - "Scaled integer quantities round-trip deterministically. Verified by: Quantity serialization and deserialization preserves exact values."
  evidence:
    evidence_ids:
      - EVID-0012
