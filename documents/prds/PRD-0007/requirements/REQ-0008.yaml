prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "REQ-0008"
  type: "FUNCTIONAL"
  title: "Typed quantities and context budgets"
  statement: |
    Budgets, timeouts, costs, and probabilities MUST be expressed as typed quantities
    with explicit units. ContextPack compilation and validation MUST reject packs
    exceeding token/artifact/byte budgets.
  acceptance_criteria:
    - id: AC-0008-01
      description: Budgets use typed quantities with explicit units.
      verification_method: Budget fields validate against quantity schema with unit field.
    - id: AC-0008-02
      description: Typed quantities reject unknown units.
      verification_method: Schema validation rejects quantities with invalid unit values.
    - id: AC-0008-03
      description: Pack compilation enforces budget ceilings.
      verification_method: Pack exceeding budget triggers compilation failure.
    - id: AC-0008-04
      description: Scaled integer quantities round-trip deterministically.
      verification_method: Quantity serialization and deserialization preserves exact values.
  source_goal_id: CAC-G-0008
  evidence:
    evidence_ids:
      - EVID-0012
    inherited_from_prd: false
    notes:
      - Maps to engineering goal CAC-G-0008 from source PRD.
