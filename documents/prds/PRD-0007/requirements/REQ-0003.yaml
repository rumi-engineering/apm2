prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "REQ-0003"
  type: "FUNCTIONAL"
  title: "Hermetic consumption with deterministic reads"
  statement: |
    Consumption holons MUST complete tasks using only preauthorized stable-ID fetches plus
    actuation tools. Discretionary context discovery during consumption MUST be denied and
    emit defects by policy. Run receipts MUST capture context_pack_miss and context_pack_sufficiency;
    misses MUST gate consumption unless explicitly escalated.
  acceptance_criteria:
    - "Consumption holons use only stable-ID fetches from ContextPack manifest. Verified by: Attempted discretionary read emits PolicyViolation and DefectRecord."
    - "ContextPack manifests include transitive dependency closure (deep pinning). Verified by: Pack compilation resolves all dependencies and pins content hashes."
    - "Run receipts capture context_pack_miss and sufficiency. Verified by: RunReceipt schema includes miss count and sufficiency flag."
    - "Pack misses fail runs by default unless escalated via EscalationPolicy. Verified by: context_pack_miss triggers DefectRecord and run failure; escalation requires authorized role, explicit criteria, bounded TTL, and audit event."
    - "Escalation mechanism is fully specified with governance controls. Verified by: EscalationPolicy artifact defines: authority_role (who can authorize), escalation_criteria (what conditions allow), escalation_ttl (max duration), audit_event_type (how recorded), escalation_count_metric (feedback signal for pack improvement)."
  evidence:
    evidence_ids:
      - EVID-0005
      - EVID-0010
      - EVID-0011
      - EVID-0015
