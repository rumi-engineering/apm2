prd_governance_model:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  governance_id: "PRD_GOVERNANCE_V2"
  authority_model:
    concepts:
      authority: "Roles/capabilities that can approve waivers and gates."
      custody: "Agent roles that produce and modify artifacts."
      responsibility: "Domains accountable for correctness of specific surfaces."
      stewardship: "Standards governance (schemas, lint, evolution)."
  gates:
    - gate_id: GATE-PRD-SECURITY
      authority_role: AUTH_SECURITY
      required_evidence_categories:
        - THREAT_MODEL_ARTIFACTS
        - SECURITY_SCAN_RESULTS
      cac_specific_gates:
        - Bootstrap trust root verification (EVID-0008)
        - Fail-closed admission validation (EVID-0002)
        - Hermetic consumption enforcement (EVID-0005)
    - gate_id: GATE-PRD-PRODUCT
      authority_role: AUTH_PRODUCT
      required_evidence_categories:
        - DESIGN_REVIEWS
      cac_specific_gates:
        - Capability truthing verification (EVID-0007)
        - Target delivery determinism (EVID-0006)
    - gate_id: GATE-CAC-ADMISSION
      authority_role: AUTH_KERNEL_GOVERNANCE
      description: Gate for artifact admission into DCP.
      required_evidence_categories:
        - SCHEMA_VALIDATION_RESULTS
        - CANONICALIZATION_TEST_RESULTS
      enforcement:
        - Schema validation MUST pass.
        - Canonicalization MUST be deterministic.
        - Replay protection MUST be enforced.
    - gate_id: GATE-CAC-EXPORT
      authority_role: AUTH_COMPILER
      description: Gate for target delivery exports.
      required_evidence_categories:
        - EXPORT_DETERMINISM_RESULTS
        - INTEGRATION_TEST_RESULTS
      enforcement:
        - Exports MUST be deterministic.
        - Conformance tests MUST pass.
        - Provenance MUST be embedded.
    - gate_id: GATE-CAC-CUTOVER
      authority_role: AUTH_RUNTIME
      description: Gate for CLI cutover and agent planning.
      required_evidence_categories:
        - AAT_RECEIPT_ARTIFACTS
      enforcement:
        - AATReceipt MUST be recent and passing.
        - CapabilityManifest MUST match reality.
  waiver_policy:
    waiver_required_keys:
      - "id"
      - "scope"
      - "rationale"
      - "expiration_date"
      - "required_signoffs"
      - "status"
      - "evidence_ids"
    waiver_status_enum_ref: "standards/enums/19_waiver_status.yaml#waiver_status.values"
  cac_governance_extensions:
    schema_evolution:
      compatibility_policy: strict
      rules:
        - id: SC-COMP-0001
          statement: Normative artifacts must set unevaluatedProperties=false to reject unknown fields.
        - id: SC-COMP-0002
          statement: Additive changes allowed within major version only if consumers ignore by explicit rule.
        - id: SC-COMP-0003
          statement: Deprecations must be explicit; schemas continue to validate until major bump.
    bootstrap_governance:
      immutability_policy: |
        Bootstrap schema bundle changes occur only via new binary release.
        Admission rejects patches or artifacts that modify bootstrap stable IDs.
      upgrade_path: |
        Bootstrap changes require separate bootstrap-upgrade flow, not PatchRecord admission.
    canonicalizer_governance:
      versioning: |
        Canonicalizer id/version recorded in all envelopes and receipts.
        Test vectors are governed artifacts pinned in bootstrap bundle.
      upgrade_policy: |
        Canonicalizer changes require new version and compatibility verification.
        Old versions remain supported for audit and replay.
