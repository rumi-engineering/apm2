prd_evidence_artifact:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "EVID-0014"
  category: "METRIC_BASELINE"
  title: "Defect recurrence tracking for missing-context class"
  description: |
    Tracks recurrence of UNPLANNED_CONTEXT_READ defects by clustering DefectRecords
    by signature. Measures month-over-month decrease in repeat incidents for similar
    work types to verify pack specification improvement effectiveness.
  source_acceptance_test: CAC-AT-0014
  capture:
    paths:
      - "evidence/metrics/defect_recurrence/"
  verification:
    commands:
      - id: "CMD-0001"
        shell: "bash"
        command: "apm2 metrics defect-recurrence --class UNPLANNED_CONTEXT_READ --output json"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 120
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "DefectRecord ledger data available for analysis period"
          - "Defect signature clustering algorithm deployed"
      - id: "CMD-0002"
        shell: "bash"
        command: "apm2 metrics defect-recurrence --trend --months 3 --output json"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 120
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "Minimum 3 months of data for trend analysis"
  assertions:
    - "Defect signatures clustered by stable_id pattern and work_type"
    - "Recurrence rate decreases month-over-month for fixed signatures"
    - "New defect signatures trigger pack specification review"
  methodology:
    clustering_algorithm: "Jaccard similarity on stable_id patterns"
    recurrence_definition: "Same signature occurring in different work items"
    trend_window: "Rolling 30-day periods"
    statistical_test: "Poisson regression for rate comparison"
    significance_threshold: 0.05
    minimum_sample_size: 10
    feedback_trigger:
      condition: "signature_count >= 3 within 7 days"
      action: "Emit PACK_SPEC_REVIEW_NEEDED event"
  data:
    classification: "INTERNAL"
    redaction:
      required: false
      guidance: []
