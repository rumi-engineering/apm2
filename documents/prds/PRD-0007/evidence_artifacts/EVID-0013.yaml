prd_evidence_artifact:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "EVID-0013"
  category: "METRIC_BASELINE"
  title: "PR cycle time measurement baseline and comparison"
  description: |
    Captures baseline PR cycle time metrics before CAC adoption and provides
    comparison methodology for measuring post-adoption improvements. Uses
    WorkEvent timeline analysis from ledger events to compute median cycle time.
  source_acceptance_test: CAC-AT-0013
  capture:
    paths:
      - "evidence/metrics/pr_cycle_time/"
  verification:
    commands:
      - id: "CMD-0001"
        shell: "bash"
        command: "apm2 metrics pr-cycle-time --baseline --output json"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 120
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "WorkEvent ledger data available for analysis period"
          - "Baseline capture completed before CAC rollout"
      - id: "CMD-0002"
        shell: "bash"
        command: "apm2 metrics pr-cycle-time --compare-baseline --output json"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 120
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "Baseline data captured via CMD-0001"
          - "Minimum 30 post-adoption PRs for statistical significance"
  assertions:
    - "Baseline median cycle time captured with 95% confidence interval"
    - "Post-adoption comparison shows statistically significant improvement (p<0.05)"
    - "Confounders (team size, PR complexity) controlled via stratification"
  methodology:
    baseline_period: "30 days prior to CAC adoption"
    comparison_period: "30 days post-adoption"
    statistical_test: "Mann-Whitney U test (non-parametric)"
    significance_threshold: 0.05
    minimum_sample_size: 30
    stratification_factors:
      - "PR complexity (lines changed buckets: <50, 50-200, >200)"
      - "Work type (feature, bugfix, refactor)"
    confounder_controls:
      - "Exclude PRs with external blockers (vacation, dependencies)"
      - "Normalize for sprint boundaries"
  data:
    classification: "INTERNAL"
    redaction:
      required: false
      guidance: []
