prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0016
  type: RELIABILITY
  title: Internal state authoritative over GitHub
  statement: 'The internal ledger MUST be authoritative for work state. If GitHub state differs from ledger state after sync, the ledger state is correct and GitHub must be updated. GitHub unavailability MUST NOT block internal work operations.'
  acceptance_criteria:
    - All work state queries (status, history, findings) answered from ledger projections.
    - GitHub API outage does not prevent plan creation, refinement, or gate execution.
    - Sync adapter detects divergence and overwrites GitHub state with ledger state.
    - Divergence events are logged with before/after state for debugging.
    - No work state is derived from GitHub API responses; GitHub is write-only target.
    - System operates correctly with GitHub adapter disabled (offline mode).
  evidence:
    evidence_ids:
      - EVID-0003
      - EVID-0007
