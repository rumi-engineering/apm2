prd_governance_model:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  governance_id: "PRD_GOVERNANCE_V2"
  authority_model:
    concepts:
      authority: "Roles/capabilities that can approve waivers and gates."
      custody: "Agent roles that produce and modify artifacts."
      responsibility: "Domains accountable for correctness of specific surfaces."
      stewardship: "Standards governance (schemas, lint, evolution)."
  gates:
    - gate_id: "GATE-PRD-ARCHITECTURE"
      authority_role: "AUTH_ARCHITECTURE"
      quorum_threshold: "2-of-3"
      required_evidence_categories:
        - "DESIGN_REVIEWS"
        - "CHANGELOG_ENTRIES"
    - gate_id: "GATE-PRD-SECURITY"
      authority_role: "AUTH_SECURITY"
      quorum_threshold: "3-of-5"
      required_evidence_categories:
        - "THREAT_MODEL_ARTIFACTS"
        - "SECURITY_SCAN_RESULTS"
    - gate_id: "GATE-PRD-RELIABILITY"
      authority_role: "AUTH_RELIABILITY"
      quorum_threshold: "2-of-3"
      required_evidence_categories:
        - "INTEGRATION_TEST_RESULTS"
        - "TEST_RESULTS"
    - gate_id: "GATE-PRD-PRODUCT"
      authority_role: "AUTH_PRODUCT"
      quorum_threshold: "2-of-3"
      required_evidence_categories:
        - "DESIGN_REVIEWS"
  approval_authorities:
    plans:
      - authority_role: "AUTH_PRODUCT"
        scope: "Work substrate plans and scheduling decisions"
        approval_criteria:
          - "Plan aligns with PRD objectives"
          - "Resource allocation is reasonable"
          - "Dependencies are documented"
      - authority_role: "AUTH_ARCHITECTURE"
        scope: "Technical design and integration plans"
        approval_criteria:
          - "Design follows architectural standards"
          - "Integration points are well-defined"
    gates:
      - authority_role: "AUTH_SECURITY"
        scope: "Security gate reviews"
        approval_criteria:
          - "Threat models are complete"
          - "Security scans show no critical issues"
          - "Required evidence is attached"
      - authority_role: "AUTH_RELIABILITY"
        scope: "Reliability and testing gate reviews"
        approval_criteria:
          - "Test coverage meets thresholds"
          - "Integration tests pass"
          - "Performance benchmarks are acceptable"
      - authority_role: "AUTH_ARCHITECTURE"
        scope: "Architecture gate reviews"
        approval_criteria:
          - "Design reviews are complete"
          - "Changes are documented in changelog"
      - authority_role: "AUTH_PRODUCT"
        scope: "Product gate reviews"
        approval_criteria:
          - "Requirements are met"
          - "Design reviews confirm product fit"
    countermeasures:
      - authority_role: "AUTH_SECURITY"
        scope: "Security countermeasures and mitigations"
        approval_criteria:
          - "Countermeasure addresses identified threat"
          - "Implementation is verified"
          - "Residual risk is acceptable"
      - authority_role: "AUTH_RELIABILITY"
        scope: "Reliability countermeasures and fallbacks"
        approval_criteria:
          - "Countermeasure addresses failure mode"
          - "Testing confirms effectiveness"
          - "No new failure modes introduced"
  change_control:
    prd_changes:
      minor_changes:
        definition: "Clarifications, typo fixes, non-semantic edits"
        approval_required: false
        notification_required: true
        notification_targets:
          - "PRD stakeholders"
      semantic_changes:
        definition: "Changes to requirements, gates, or success criteria"
        approval_required: true
        approval_authorities:
          - "AUTH_PRODUCT"
          - "AUTH_ARCHITECTURE"
        notification_required: true
        notification_targets:
          - "All PRD stakeholders"
          - "Active work package owners"
      structural_changes:
        definition: "Changes to governance model, authority roles, or evidence standards"
        approval_required: true
        approval_authorities:
          - "AUTH_PRODUCT"
          - "AUTH_ARCHITECTURE"
          - "AUTH_SECURITY"
        quorum_threshold: "3-of-3"
        notification_required: true
        notification_targets:
          - "All PRD stakeholders"
          - "All authority holders"
    change_tracking:
      changelog_required: true
      changelog_location: "PRD changelog section"
      git_commit_required: true
      commit_message_format: "feat(PRD-0004): <description> (#<PR_number>)"
  escalation_paths:
    gate_failure_repeated:
      threshold: "3 consecutive failures"
      escalation_steps:
        - step: 1
          action: "Notify work package owner and gate authority"
          automated: true
        - step: 2
          action: "Require root cause analysis"
          owner: "Work package owner"
          deadline: "24 hours"
        - step: 3
          action: "Convene review with AUTH_PRODUCT and relevant gate authority"
          participants:
            - "AUTH_PRODUCT"
            - "Gate authority"
            - "Work package owner"
          deadline: "48 hours"
        - step: 4
          action: "Consider waiver or plan revision"
          decision_makers:
            - "AUTH_PRODUCT"
            - "Gate authority"
          options:
            - "Approve waiver with mitigation plan"
            - "Revise work plan"
            - "Pause work package"
    waiver_expiration_approaching:
      threshold: "7 days before expiration"
      escalation_steps:
        - step: 1
          action: "Notify waiver holders and work package owner"
          automated: true
        - step: 2
          action: "Review waiver status and mitigation progress"
          owner: "Work package owner"
          deadline: "3 days before expiration"
        - step: 3
          action: "Extend waiver or close with evidence"
          decision_makers:
            - "Original waiver approvers"
    authority_quorum_failure:
      threshold: "Unable to reach quorum within 24 hours"
      escalation_steps:
        - step: 1
          action: "Notify all authority role holders"
          automated: true
        - step: 2
          action: "Attempt async approval with extended deadline"
          deadline: "48 hours"
        - step: 3
          action: "Escalate to adjudication policy"
          fallback: "SAFE_DEFER"
  audit_requirements:
    logged_events:
      - event_type: "GATE_REVIEW_SUBMITTED"
        required_fields:
          - "gate_id"
          - "work_id"
          - "reviewer_identity"
          - "timestamp"
          - "outcome"
          - "evidence_refs"
        retention: "Permanent"
      - event_type: "WAIVER_ISSUED"
        required_fields:
          - "waiver_id"
          - "scope"
          - "rationale"
          - "approvers"
          - "expiration_date"
          - "timestamp"
        retention: "Permanent"
      - event_type: "WAIVER_EXPIRED"
        required_fields:
          - "waiver_id"
          - "expiration_date"
          - "timestamp"
          - "final_status"
        retention: "Permanent"
      - event_type: "PLAN_APPROVED"
        required_fields:
          - "plan_id"
          - "approver_identity"
          - "timestamp"
          - "approval_criteria_met"
        retention: "7 years"
      - event_type: "COUNTERMEASURE_APPROVED"
        required_fields:
          - "countermeasure_id"
          - "threat_id"
          - "approver_identity"
          - "timestamp"
          - "verification_evidence"
        retention: "Permanent"
      - event_type: "PRD_CHANGE_APPLIED"
        required_fields:
          - "change_type"
          - "approvers"
          - "timestamp"
          - "git_commit_sha"
          - "affected_sections"
        retention: "Permanent"
      - event_type: "ESCALATION_TRIGGERED"
        required_fields:
          - "escalation_type"
          - "trigger_condition"
          - "timestamp"
          - "work_id"
          - "escalation_path"
        retention: "7 years"
    audit_access:
      read_access:
        - "All authority roles"
        - "Compliance audit agents"
      write_access:
        - "System harness only"
      retention_enforcement: "Automated via policy engine"
    compliance_reporting:
      report_frequency: "Quarterly"
      report_includes:
        - "Gate review statistics"
        - "Waiver utilization and expiration tracking"
        - "Escalation trigger frequency"
        - "Authority quorum success rates"
      report_recipients:
        - "AUTH_PRODUCT"
        - "Compliance stakeholders"
  adjudication_policy:
    default_timeout_seconds: 3600
    fallback_policies:
      - "SAFE_ABORT"
      - "SAFE_DEFAULT_OPTION"
      - "SAFE_DEFER"
      - "SAFE_SPLIT"
  waiver_policy:
    waiver_required_keys:
      - "id"
      - "scope"
      - "rationale"
      - "expiration_date"
      - "required_signoffs"
      - "status"
      - "evidence_ids"
    waiver_status_enum_ref: "standards/enums/19_waiver_status.yaml#waiver_status.values"
