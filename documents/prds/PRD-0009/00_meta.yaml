prd_meta:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  prd:
    id: PRD-0009
    title: "Forge Admission Cycle (FAC) v1.1 - Hardened Protocol with Efficient Context Discipline and Phase-2 Drift Controls"
    status: DRAFT
    created_date: "2026-01-29"
    last_updated_date: "2026-01-29"
  protocol_profile:
    id: FAC-PROTOCOL-001
    applies: true
    time_horizon: "Phase 1 -> Phase 3 (then autonomous self-improvement expected)"
    profile_ref: protocol_profiles/README.yaml#protocol_profiles_readme
  custody:
    owner_holons:
      - holon_id: HOLON-KERNEL-GOVERNANCE
        role: critical event signing, authority minting, key policy
      - holon_id: HOLON-KERNEL-GATE
        role: gate receipt verification, admission decision, merge receipt
      - holon_id: HOLON-COORDINATOR
        role: CAS-at-commit orchestration, bounded retries, echo-trap detection
      - holon_id: HOLON-CONTEXT-COMPILER
        role: CCP/RCP compilation, impact expansion, Context Efficiency scoring
      - holon_id: HOLON-GITHUB-ADAPTER
        role: projection-only sync + divergence watchdog
      - holon_id: HOLON-AUDITOR
        role: measurement integrity, drift/holdout auditing (Phase 2)
    producing_agent_roles:
      - AGENT_AUTHOR
      - AGENT_REVIEWER
    responsible_domains:
      - DOMAIN_KERNEL
      - DOMAIN_FORGE
      - DOMAIN_ADMISSION
      - DOMAIN_PROJECTION
      - DOMAIN_SECURITY
    authority_signoffs_required:
      - AUTH_PRODUCT
      - AUTH_SECURITY
  classification:
    default_data_classification: INTERNAL
    security_critical: true
    risk_tier_default: T3
    notes:
      - FAC governs promotion to trunk; treat all control-plane decisions as adversarial surfaces.
      - "Fail-closed: uncertain truth implies deny admission or escalate to adjudication/oracle."
      - GitHub is a projection target; it is never a source of truth.
  refs:
    standards:
      requirement_schema: standards/schemas/02_requirement.schema.yaml#requirement_schema
      evidence_artifact_schema: standards/schemas/01_evidence_artifact.schema.yaml#evidence_artifact_schema
      quality_coverage_schema: standards/schemas/03_quality_coverage.schema.yaml#quality_coverage_schema
      gate_review_schema: standards/schemas/06_gate_review.schema.yaml#gate_review_schema
      waiver_schema: standards/schemas/05_waiver.schema.yaml#waiver_schema
      ticket_meta_schema: standards/schemas/04_ticket_meta.schema.yaml#ticket_meta_schema
      lint_spec: standards/lint/LINT_SPEC.yaml#lint_spec
    related_documents:
      glossary: documents/skills/glossary/SKILL.md
      laws: documents/theory/AGENTS.md
      work_substrate: documents/prds/PRD-0004/
      cac_substrate: documents/prds/PRD-0007/
      coordination: documents/rfcs/RFC-0012/
      daemon_runtime: documents/rfcs/RFC-0013/
      git_digest: documents/skills/glossary/references/git_digest_conventions.md
  source_document:
    id: APM2-PRD-FAC-0001
    path: forge-admission-cycle-prd.json
    classification:
      default_data_classification: INTERNAL
      security_critical: true
      notes:
        - FAC governs promotion to trunk; treat all control-plane decisions as adversarial surfaces.
        - GitHub is a projection target; it is never a source of truth.
  terminology:
    - term: Gate
      ref: documents/skills/glossary/references/gate.md
    - term: Merge Receipt
      ref: documents/skills/glossary/references/merge_receipt.md
    - term: ContextPack
      ref: documents/skills/glossary/references/context_pack.md
    - term: View Commitment
      ref: documents/skills/glossary/references/view_commitment.md
    - term: Lease/Budget
      ref: documents/skills/glossary/references/lease_and_budget.md
    - term: OCAP
      ref: documents/skills/glossary/references/ocap.md
    - term: Terminal Verifier
      ref: documents/skills/glossary/references/terminal_verifier.md
    - term: Oracle
      ref: documents/skills/glossary/references/oracle.md
  law_alignment:
    - law_id: LAW-01
      applies_to:
        - GateRunCompleted
        - MergeReceipt
      enforcement: Signed events + receipt verification + deterministic admission projection
    - law_id: LAW-02
      applies_to:
        - ContextPack
        - RunReceipt
      enforcement: Context sufficiency observed; context misses terminate and trigger refinement
    - law_id: LAW-03
      applies_to:
        - GitHub adapter
      enforcement: Ledger is truth; projections overwriteable; divergence detection halts factory
    - law_id: LAW-04
      applies_to:
        - LLM reviewers
      enforcement: Terminal verifiers anchor; advisory signals never sole admission basis
    - law_id: LAW-05
      applies_to:
        - OCAP
      enforcement: Mechanical context firewall + capability scoping; no ambient credentials
    - law_id: LAW-08
      applies_to:
        - Gates
      enforcement: Holdouts/adversarial suites + evaluator audit (Phase 2)
    - law_id: LAW-10
      applies_to:
        - Merge semantics
      enforcement: "Atomic merge receipt binds (base, changeset) -> result; anti-entropy divergence checks"
    - law_id: LAW-12
      applies_to:
        - Coordinator
      enforcement: Bounded retries, echo-trap detection, oracle escalation
    - law_id: LAW-15
      applies_to:
        - Metrics
      enforcement: "Measurement integrity: auditor sampling + drift alarms"
