prd_governance_model:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  governance_id: "PRD_GOVERNANCE_V2"
  authority_model:
    concepts:
      authority: "Roles/capabilities that can approve waivers and gates."
      custody: "Agent roles that produce and modify artifacts."
      responsibility: "Domains accountable for correctness of specific surfaces."
      stewardship: "Standards governance (schemas, lint, evolution)."
  trust_zones:
    - zone_id: ZONE-REVENUE
      description: "High-risk external action holons (e.g., revenue automation) operate in a separate trust zone."
      requirements:
        - "Separate keys and custody domains from admission/gate executors."
        - "Separate budgets and tool allowlists with explicit human approvals for financial/external actions."
        - "Separate ledger namespace or policy profile to prevent privilege bleed."
  gates:
    - gate_id: GATE-PRD-ARCHITECTURE
      authority_role: AUTH_ARCHITECTURE
      quorum_threshold: 1
      required_evidence_categories:
        - DESIGN_REVIEWS
        - INTEGRATION_TEST_RESULTS
        - TEST_RESULTS
      fac_specific_gates:
        - FAC stage ordering validation
        - GateLease subset rule enforcement
        - MergeReceipt atomic binding verification
        - Typed GateReceipt payloads for gate_id=aat
        - AAT evidence-chain binding (transcript + artifact digests + attestation)
        - Terminal verifier binding schema enforcement
        - Risk-tiered AAT selection policy enforcement
        - Determinism envelope validation (Phase 2)
    - gate_id: GATE-PRD-PRODUCT
      authority_role: AUTH_PRODUCT
      quorum_threshold: 1
      required_evidence_categories:
        - DESIGN_REVIEWS
        - INTEGRATION_TEST_RESULTS
      fac_specific_gates:
        - Projection-only forge verification
        - Evidence-backed readiness gating
    - gate_id: GATE-PRD-SECURITY
      authority_role: AUTH_SECURITY
      quorum_threshold: 1
      required_evidence_categories:
        - INTEGRATION_TEST_RESULTS
        - POLICY_CHECK_RESULTS
        - SIGNATURES
      fac_specific_gates:
        - Critical event signature validation (Ed25519 domain-separated)
        - Context firewall deny verification (CTX-ALLOWLIST-001)
        - Lease expiry and scope enforcement
        - AAT evidence-chain and attestation validation
        - Fail-closed handling for nondeterministic gate outcomes
  adjudication_policy:
    enabled: true
    path: "AdjudicationRequested request_type=WAIVER with explicit rationale and bounded scope; signed by authority set"
    request_types:
      - WAIVER
      - GATE_REVIEW
      - EMERGENCY_RECOVERY
  waiver_policy:
    scope_fields:
      - work_id
      - changeset_digest
      - gate_id
      - expires_at
      - rationale
    waiver_required_keys:
      - "id"
      - "scope"
      - "rationale"
      - "expiration_date"
      - "required_signoffs"
      - "status"
      - "evidence_ids"
    waiver_status_enum_ref: "standards/enums/19_waiver_status.yaml#waiver_status.values"
  holon_authority_matrix:
    - holon_id: HOLON-WORK-EXECUTOR
      role_id: ROLE_IMPLEMENTER
      may:
        - produce changesets
        - publish implementation evidence
      may_not:
        - sign GateRunCompleted for required gates
        - emit MergeReceipt
        - write external projections
    - holon_id: HOLON-REVIEWER-SECURITY
      role_id: ROLE_REVIEWER_SECURITY
      may:
        - sign GateRunCompleted for gate=security under valid lease
        - publish findings evidence
      may_not:
        - merge
        - write external projections
    - holon_id: HOLON-REVIEWER-QUALITY
      role_id: ROLE_REVIEWER_QUALITY
      may:
        - sign GateRunCompleted for gate=quality under valid lease
        - publish findings evidence
      may_not:
        - merge
        - write external projections
    - holon_id: HOLON-AAT
      role_id: ROLE_AAT_VERIFIER
      may:
        - sign GateRunCompleted for gate=aat under valid lease
        - publish GateReceipts for gate=aat
      may_not:
        - merge
        - write external projections
        - share custody domain with coordinator or implementer keys
    - holon_id: HOLON-KERNEL-GATE
      role_id: ROLE_ADMISSION
      may:
        - emit MergeReceipt
        - deny admission
        - request adjudication
        - freeze admissions
      may_not:
        - alter reviewer findings
        - forge gate outcomes
    - holon_id: HOLON-GITHUB-ADAPTER
      role_id: ROLE_PROJECTION
      may:
        - project internal state to GitHub
        - import CI logs/artifacts as evidence
      may_not:
        - decide admission truth
