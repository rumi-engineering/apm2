prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "REQ-0010"
  type: "PERFORMANCE"
  source_id: "DCP-G-0001"
  title: "Session Ready Latency"
  statement: |
    apm2-daemon session_ready_latency (pack sealed, policy checked, sandbox ready)
    MUST be <2s p99; measured on local Unix socket IPC with daemon warm.
  acceptance_criteria:
    - "Session fully ready in <2s p99 under benchmark conditions. Verified by: Benchmark results show p99 < 2s."
    - "Ready state includes: pack sealed, policy checked, sandbox ready. Verified by: Benchmark measures full ready state, not just spawn ack."
    - "Results include p50, p90, p99 percentiles. Verified by: Benchmark output includes all percentiles."
  evidence:
    evidence_ids:
      - EVID-0010
  law_alignment:
    - law_id: "LAW-06"
      enforcement: "MDL as Gated Budget: Bounded latency for session initialization"
      applies_to:
        - "Session ready sequence"
  defect_codes:
    - code: "SESSION_READY_LATENCY_EXCEEDED"
      severity: "S2"
      description: "Session ready exceeded 2s p99"
