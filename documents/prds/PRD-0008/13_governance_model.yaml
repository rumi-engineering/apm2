prd_governance_model:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  governance_id: "PRD_GOVERNANCE_V2"
  authority_model:
    concepts:
      authority: "Roles/capabilities that can approve waivers and gates."
      custody: "Agent roles that produce and modify artifacts."
      responsibility: "Domains accountable for correctness of specific surfaces."
      stewardship: "Standards governance (schemas, lint, evolution)."
  gates:
    - gate_id: GATE-PRD-SECURITY
      authority_role: AUTH_SECURITY
      required_evidence_categories:
        - THREAT_MODEL_ARTIFACTS
        - SECURITY_SCAN_RESULTS
      coordination_specific_gates:
        - Budget ceiling enforcement (EVID-COORD-0003)
        - Circuit breaker protection (EVID-COORD-0002)
        - Audit trail via ledger events (EVID-COORD-0005)
    - gate_id: GATE-PRD-PRODUCT
      authority_role: AUTH_PRODUCT
      required_evidence_categories:
        - DESIGN_REVIEWS
      coordination_specific_gates:
        - CLI command usability (EVID-COORD-0007)
        - Evidence receipt completeness (EVID-COORD-0001)
    - gate_id: GATE-COORD-REDUCER
      authority_role: AUTH_KERNEL_GOVERNANCE
      description: Gate for CoordinationReducer implementation.
      required_evidence_categories:
        - REDUCER_DETERMINISM_RESULTS
        - INTEGRATION_TEST_RESULTS
      enforcement:
        - Reducer MUST be deterministic (replay-from-genesis = replay-from-checkpoint).
        - Reducer MUST integrate with existing ledger infrastructure.
        - State projection MUST be consistent with event sequence.
    - gate_id: GATE-COORD-BUDGET
      authority_role: AUTH_OPS
      description: Gate for budget enforcement implementation.
      required_evidence_categories:
        - BUDGET_ENFORCEMENT_RESULTS
        - INTEGRATION_TEST_RESULTS
      enforcement:
        - Budget ceiling MUST be enforced (no coordination exceeds limits).
        - Budget parameters MUST be mandatory (no unbounded execution).
        - Budget exhaustion MUST terminate coordination cleanly.
    - gate_id: GATE-COORD-AAT
      authority_role: AUTH_RUNTIME
      description: Gate for coordination AAT tests.
      required_evidence_categories:
        - COORDINATION_RECEIPT_ARTIFACTS
        - TEST_RESULTS
      enforcement:
        - Serial execution loop MUST be tested.
        - Circuit breaker MUST be tested.
        - Work freshness check MUST be tested.
        - Evidence receipts MUST be verified.
  waiver_policy:
    waiver_required_keys:
      - "id"
      - "scope"
      - "rationale"
      - "expiration_date"
      - "required_signoffs"
      - "status"
      - "evidence_ids"
    waiver_status_enum_ref: "standards/enums/19_waiver_status.yaml#waiver_status.values"
  coordination_governance_extensions:
    reducer_governance:
      pattern_compliance: |
        CoordinationReducer MUST follow established reducer patterns from SessionReducer
        and WorkReducer. Deviations require AUTH_KERNEL_GOVERNANCE approval.
      testing_requirements: |
        Property tests MUST verify determinism. Integration tests MUST verify ledger
        integration. Golden event sequences MUST be committed for replay verification.
    budget_governance:
      safety_invariant: |
        No coordination runs without budget limits. This is a non-negotiable safety
        invariant enforced at CLI and controller levels.
      modification_path: |
        Budget enforcement logic changes require AUTH_SECURITY review. Threshold
        values can be tuned within documented ranges without gate review.
    event_governance:
      schema_versioning: |
        Coordination events follow ledger event versioning conventions. Schema
        changes require compatibility analysis and migration path.
      correlation_requirements: |
        All coordination events MUST include coordination_id for correlation.
        Events MUST be ordered consistently with ledger event sequence.
