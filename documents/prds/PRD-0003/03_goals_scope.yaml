prd_goals_scope:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"

  goals:
    - id: "G-0001"
      statement: "Establish AAT as a mandatory merge gate for every PR"
      measurable_outcomes:
        - "100% of PRs require AAT status check to pass before merge"
        - "GitHub branch protection rules enforce AAT status check"
        - "No PR can merge with AAT status in pending or failure state without waiver"

    - id: "G-0002"
      statement: "Enable hypothesis-driven verification of PR claims"
      measurable_outcomes:
        - "AAT agent forms at least 3 testable hypotheses per PR"
        - "Hypotheses are recorded BEFORE execution for auditability"
        - "Verification results include expected vs actual outcomes"

    - id: "G-0003"
      statement: "Detect and prevent gaming of acceptance criteria"
      measurable_outcomes:
        - "Anti-gaming checks detect hardcoded values with >90% accuracy"
        - "Undocumented TODOs are flagged as violations"
        - "Input variation testing detects mock returns"

    - id: "G-0004"
      statement: "Produce structured evidence bundles for all verification"
      measurable_outcomes:
        - "Every AAT run produces a JSON evidence bundle"
        - "Evidence bundles include hypothesis results, anti-gaming checks, verdict"
        - "Evidence is persisted for audit and debugging"

    - id: "G-0005"
      statement: "Maintain fast feedback cycles for PR authors"
      measurable_outcomes:
        - "AAT execution completes within 10 minutes (P95)"
        - "Failure reasons are actionable and agent-consumable"
        - "Authors can trigger AAT re-runs on demand"

  scope:
    in_scope:
      - "PR description format specification for AAT consumption"
      - "AAT agent invocation protocol and hypothesis-driven testing"
      - "Anti-gaming checks (hardcoded values, mock returns, undocumented TODOs)"
      - "Evidence bundle schema and generation"
      - "Status check integration (aat/acceptance)"
      - "Manual toggle for adjudication and override"
      - "Escalation protocol for ambiguous cases"
      - "Waiver process for known limitations"

    out_of_scope:
      - "CI workflow implementation (.github/workflows/aat.yml)"
      - "cargo xtask AAT command implementation"
      - "Specific anti-gaming detection algorithm details"
      - "Integration with external testing services"
      - "Performance optimization of AAT execution"

  success_criteria_summary:
    - "AAT coverage rate >= 95% of PRs"
    - "False positive rate < 5%"
    - "Hypothesis hit rate between 70-95% (not too easy, not impossible)"
    - "Post-merge defect rate < 2%"
    - "AAT execution time P95 < 10 minutes"
    - "Anti-gaming detection rate > 90%"
