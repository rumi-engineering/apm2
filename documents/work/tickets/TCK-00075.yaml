ticket_meta:
  schema_version: "2026-01-25"
  template_version: "2026-01-25"
  ticket:
    id: "TCK-00075"
    title: "Implement Hypothesis Execution Engine"
  binds:
    prd_id: "NONE"
    rfc_id: "RFC-0006"
    requirements:
      - requirement_id: "AAT-003"
        requirement_ref: "documents/rfcs/RFC-0006/01_problem_and_imports.yaml#rfc_local_requirements.requirements[16]"
    evidence_artifacts: []
  custody:
    agent_roles:
      - "AGENT_IMPLEMENTER"
    responsibility_domains:
      - "DOMAIN_BUILD_RELEASE"
  dependencies:
    tickets:
      - "TCK-00074"
  scope:
    in_scope:
      - "Create execute_hypothesis() function"
      - "Run verification commands in shell"
      - "Capture stdout, stderr, exit code"
      - "Set executed_at timestamp AFTER execution"
      - "Compare actual outcome to prediction"
      - "Mark result as PASSED/FAILED"
    out_of_scope:
      - "Parallel hypothesis execution"
      - "Timeout configuration per hypothesis"
      - "Retry logic for flaky tests"
  plan:
    steps:
      - "Create xtask/src/aat/executor.rs module"
      - "Define HypothesisExecutor struct"
      - "Implement execute_hypothesis() method"
      - "Use std::process::Command to run verification_method"
      - "Capture Output { stdout, stderr, status }"
      - "Set executed_at = Utc::now() after command completes"
      - "Determine result: exit_code == 0 means PASSED, else FAILED"
      - "Store stdout, stderr, exit_code in Hypothesis"
      - "Integrate executor into aat.rs run() function"
      - "Execute each hypothesis in sequence"
      - "Verify cargo build succeeds"
      - "Verify cargo test passes"
      - "Verify cargo clippy passes with no warnings"
  definition_of_done:
    evidence_ids: []
    criteria:
      - "HypothesisExecutor exists in xtask/src/aat/executor.rs"
      - "execute_hypothesis() runs verification_method command"
      - "stdout, stderr captured and stored in Hypothesis"
      - "exit_code captured and stored in Hypothesis"
      - "executed_at timestamp set AFTER command execution"
      - "Result is PASSED if exit_code == 0, FAILED otherwise"
      - "cargo build succeeds"
      - "cargo test passes"
      - "cargo clippy passes with no warnings"
  notes:
    implementation_details: |
      ```rust
      // xtask/src/aat/executor.rs
      use std::process::Command;
      use chrono::Utc;
      use anyhow::Result;
      use crate::aat::types::{Hypothesis, HypothesisResult};

      pub struct HypothesisExecutor;

      impl HypothesisExecutor {
          pub fn execute(hypothesis: &mut Hypothesis) -> Result<()> {
              let output = Command::new("sh")
                  .args(["-c", &hypothesis.verification_method])
                  .output()?;

              // Set executed_at AFTER execution completes
              hypothesis.executed_at = Some(
                  Utc::now().format("%Y-%m-%dT%H:%M:%SZ").to_string()
              );

              hypothesis.stdout = Some(
                  String::from_utf8_lossy(&output.stdout).to_string()
              );
              hypothesis.stderr = Some(
                  String::from_utf8_lossy(&output.stderr).to_string()
              );
              hypothesis.exit_code = output.status.code();

              hypothesis.result = Some(if output.status.success() {
                  HypothesisResult::Passed
              } else {
                  HypothesisResult::Failed
              });

              hypothesis.actual_outcome = Some(format!(
                  "Exit code: {:?}",
                  output.status.code()
              ));

              Ok(())
          }
      }
      ```
    affected_files: |
      New: xtask/src/aat/executor.rs
      Modified: xtask/src/aat/mod.rs (add executor module)
      Modified: xtask/src/tasks/aat.rs (integrate executor)
