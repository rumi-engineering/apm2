{
  "schema": "apm2.ticket.v1",
  "ticket_meta": {
    "schema_version": "2026-01-29",
    "template_version": "2026-01-29",
    "ticket": {
      "id": "TCK-00446",
      "title": "RoleSpec v2 contract and conformance gates for WorkObject implementor",
      "status": "CLOSED"
    },
    "binds": {
      "prd_id": "PRD-0009",
      "rfc_id": "RFC-0019",
      "requirements": [
        {
          "requirement_id": "REQ-0017",
          "requirement_ref": "documents/rfcs/RFC-0019/requirements/REQ-0017.yaml#requirement"
        }
      ],
      "evidence_artifacts": [
        {
          "evidence_id": "EVID-0012",
          "artifact_ref": "documents/rfcs/RFC-0019/evidence_artifacts/EVID-0012.yaml#evidence_artifact"
        },
        {
          "evidence_id": "EVID-0013",
          "artifact_ref": "documents/rfcs/RFC-0019/evidence_artifacts/EVID-0013.yaml#evidence_artifact"
        }
      ]
    },
    "custody": {
      "agent_roles": [
        "AGENT_IMPLEMENTER",
        "AGENT_REVIEWER",
        "AGENT_QA"
      ],
      "responsibility_domains": [
        "DOMAIN_RUNTIME",
        "DOMAIN_SECURITY"
      ]
    },
    "dependencies": {
      "tickets": [
        {
          "ticket_id": "TCK-00415",
          "reason": "WorkObject projection authority baseline is prerequisite for role contract enforcement."
        },
        {
          "ticket_id": "TCK-00331",
          "reason": "RoleSpec v1 schema/conformance baseline is required substrate."
        },
        {
          "ticket_id": "TCK-00401",
          "reason": "Broker allowlist policy wiring must be production-ready for role conformance checks."
        }
      ]
    },
    "scope": {
      "in_scope": [
        "Define `fac_workobject_implementor_v2` RoleSpec artifact with deterministic canonicalization.",
        "Encode explicit deny taxonomy for missing/stale/unknown/unverifiable authority context.",
        "Require tool budgets, allowlists, and output schema fields in conformance checks.",
        "Add conformance negative tests for missing mandatory policy fields."
      ],
      "out_of_scope": [
        "Deterministic ContextPack recipe compilation and drift fingerprinting.",
        "Production dispatcher wiring and end-to-end role execution tests."
      ]
    },
    "plan": {
      "steps": [
        "Define RoleSpec v2 contract shape and canonicalization profile.",
        "Implement conformance rules for required role policy fields.",
        "Implement deny taxonomy mapping and negative tests.",
        "Register role artifact for deterministic hash selection.",
        "Run required workspace checks."
      ]
    },
    "definition_of_done": {
      "evidence_ids": [
        "EVID-0012",
        "EVID-0013"
      ],
      "criteria": [
        "RoleSpec v2 exists as hash-addressed canonical artifact.",
        "Conformance rejects missing budget, output schema, and deny taxonomy fields.",
        "Negative tests prove fail-closed deny behavior for malformed role contracts."
      ]
    },
    "notes": {
      "security": "Role contract validation is a containment boundary and must fail closed by default.\n",
      "verification": "Include canonicalization determinism and conformance reject-path coverage.\n",
      "general": "This ticket defines the contract foundation used by downstream context and wiring tickets.\n"
    }
  }
}
