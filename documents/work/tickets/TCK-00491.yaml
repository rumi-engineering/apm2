ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00491"
    title: "Admission Spine v1.1: codify PCAC-boundary + ledger trust-stack composition contract (RFC addendum + requirement scaffolding + digest-cycle + witness-seed fixes + anti-rollback anchoring)"
    status: "OPEN"
  binds:
    prd_id: "PRD-0010"
    rfc_id: "RFC-0019"
    requirements:
      - requirement_id: "REQ-0022"
        requirement_ref: "documents/rfcs/RFC-0019/requirements/REQ-0022.yaml#requirement"
    evidence_artifacts:
      - evidence_id: "EVID-0017"
        artifact_ref: "documents/rfcs/RFC-0019/evidence_artifacts/EVID-0017.yaml#evidence_artifact"
  custody:
    agent_roles:
      - "AGENT_IMPLEMENTER"
      - "AGENT_REVIEWER"
    responsibility_domains:
      - "DOMAIN_GOVERNANCE"
      - "DOMAIN_SECURITY"
      - "DOMAIN_RUNTIME"
  dependencies:
    tickets: []
  scope:
    in_scope:
      - "Add RFC-0019 addendum document defining Admission Spine v1.1 composition contract (PCAC/AJC + boundary witnesses + ledger trust stack + quarantine + anti-rollback anchoring)."
      - "Define normative terminology + threat model + versioning/migration rules for Spine v1.1 (incl. HT/HE binding semantics, downgrade resistance, and canonical digest requirements)."
      - "Fix witness binding semantics to seed-at-join + evidence-post-effect (avoid impossible join-time witness hashes) and bind witness provider provenance into seeds."
      - "Fix AdmissionBundle/receipt reference cycle via digest-cycle avoidance rule (bundle sealed before receipt emission; reverse-edge discovery)."
      - "Unify AdmissionBindingHash semantics with AdmissionBundle digest (v1.1 defines equality)."
      - "Add normative requirement for output mediation: no early output (incl. streaming partials) before post-effect boundary checks for fail-closed tiers; disallow streaming for fail-closed tiers unless chunk-level enforcement exists."
      - "Fix quarantine reservation contradiction by requiring a consume-adjacent durable guard (no pre-consume side-effect reservation)."
      - "Add normative requirement: incremental rollout MUST NOT leave effect-capable endpoints outside kernel in authoritative mode (disable or fail-closed for fail-closed tiers)."
      - "Add placeholder requirement + evidence artifact stubs for spine conformance and no-bypass."
      - "Define normative references to PCAC integration guide and reviewer obligations (structural MAJOR when lifecycle missing)."
      - "Add Appendix-A interface requirements for AntiRollbackAnchor and BoundaryMediator seams."
    out_of_scope:
      - "Any runtime code changes (separate tickets)."
  plan:
    steps:
      - "Add the addendum markdown file under RFC-0019."
      - "Add requirements/evidence YAML stubs referenced by subsequent tickets."
      - "Cross-link to RFC-0027/0028/0020 and RFC-0019 traceability overlay (ch17/ch18)."
  definition_of_done:
    evidence_ids: ["EVID-0017"]
    criteria:
      - "Addendum is mergeable: clear normative MUST/SHOULD statements, explicit phase ordering, and no-bypass rules."
      - "Addendum explicitly resolves the witness-hash ordering trap and the AdmissionBundle digest-cycle trap."
      - "Addendum explicitly resolves rollback claims via anti-rollback anchoring requirements for fail-closed tiers."
      - "Requirements + evidence artifacts exist and are referenced by later tickets."
  notes:
    security: |
      This ticket is governance scaffolding: it makes the composition contract enforceable and reviewable.
      Key risk addressed: rollback-by-local-write adversary requires an external anchor (fail-closed tiers deny without it).
    verification: |
      Evidence is the addendum + the referenced requirement/evidence YAML stubs.
