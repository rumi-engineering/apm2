acceptance_criteria:
  - criterion: CI fails on legacy IPC symbol reintroduction
    verification: Guard script detects ipc_server/apm2_core::ipc references
  - criterion: CI fails on legacy config keys
    verification: Guard detects [daemon].socket in repo configs/docs
implementation:
  code_examples: []
  files_to_create:
    - path: scripts/ci/legacy_ipc_guard.sh
      purpose: Fail build on legacy IPC symbols/paths/config keys
  files_to_modify:
    - changes: "Add rg-based guard for legacy IPC symbols and config keys."
      path: scripts/ci/legacy_ipc_guard.sh
    - changes: "Wire guard into CI pipeline."
      path: .github/workflows/*
  implementation_steps:
    - "Implement guard script"
    - "Add guard to CI workflow"
  summary: "CI guardrails to prevent legacy IPC reintroduction."
notes: |
  Phase: PHASE-1
  Added by Amendment A-001 (DD-009 hard cutover).
schema_version: "2026-01-26"
template_version: "2026-01-26"
test_requirements:
  - description: Guard script runs and fails on legacy IPC symbols
    test_id: CI-00282-01
    verification_command: scripts/ci/legacy_ipc_guard.sh
ticket:
  depends_on:
    - TCK-00281
  id: TCK-00282
  requirement_ids:
    - REQ-DCP-0008
  rfc_id: RFC-0017
  status: READY
  title: CI guardrails against legacy IPC
