ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00444"
    title: "Reviewer telemetry contract and bounded projection visibility"
    status: "CLOSED"
  binds:
    prd_id: "PRD-0009"
    rfc_id: "RFC-0018"
    requirements:
      - requirement_id: "REQ-HEF-0022"
        requirement_ref: "documents/rfcs/RFC-0018/requirements/REQ-HEF-0022.yaml#rfc_requirement"
    evidence_artifacts:
      - evidence_id: "EVID-HEF-0019"
        artifact_ref: "documents/rfcs/RFC-0018/evidence_artifacts/EVID-HEF-0019.yaml#rfc_evidence_artifact"
  custody:
    agent_roles:
      - "AGENT_IMPLEMENTER"
      - "AGENT_REVIEWER"
      - "AGENT_QA"
    responsibility_domains:
      - "DOMAIN_OBSERVABILITY"
      - "DOMAIN_RUNTIME"
  dependencies:
    tickets:
      - ticket_id: "TCK-00441"
        reason: "Telemetry event schema depends on stable command/run identity contracts."
      - ticket_id: "TCK-00443"
        reason: "Projection visibility needs idempotent/joined run identity semantics."
  scope:
    in_scope:
      - "Emit append-only NDJSON lifecycle events for reviewer state transitions."
      - "Emit explicit reason-coded events for stall, crash, fallback, and SHA drift transitions."
      - "Support bounded-rate projection output suitable for CI logs (target 1Hz summaries)."
      - "Fail closed when telemetry stream is malformed or missing for authoritative projection paths."
    out_of_scope:
      - "Credential-surface hardening and PAT policy."
      - "Workflow authorization policy decisions."
  plan:
    steps:
      - "Define lifecycle event taxonomy and versioned event schema."
      - "Implement NDJSON append/rotation and parser-safe event emission."
      - "Implement projection summarizer for bounded periodic status output."
      - "Add tests for malformed/missing telemetry fail-closed behavior."
      - "Run required checks and update monitoring docs."
  definition_of_done:
    evidence_ids:
      - "EVID-HEF-0019"
    criteria:
      - "Lifecycle telemetry is append-only and machine-parseable across process restarts."
      - "Projection logs present bounded-rate status and explicit reason-coded fault lines."
      - "Missing/malformed telemetry blocks authoritative projection progression."
  notes:
    security: |
      Telemetry is non-authoritative evidence; authoritative decisions remain receipt/gate driven.
    verification: |
      Include parser compatibility and failure-injection coverage.
    general: |
      This ticket establishes the monitoring substrate consumed by FAC operators and gate projections.
