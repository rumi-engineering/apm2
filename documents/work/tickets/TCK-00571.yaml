ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00571"
    title: "Lane log retention + quotas: per-lane max bytes + per-job retention windows; GC integration"
    status: "MERGED"
  binds:
    prd_id: "PRD-PLACEHOLDER"
    rfc_id: "RFC-0019"
    requirements: []
    evidence_artifacts: []
  custody:
    agent_roles: ["AGENT_IMPLEMENTER"]
    responsibility_domains: ["DOMAIN_RUNTIME"]
  dependencies:
    tickets:
      - ticket_id: "TCK-00520"
        reason: "Per-job logs exist."
      - ticket_id: "TCK-00524"
        reason: "GC exists."
  scope:
    in_scope:
      - "Define log retention policy knobs in FacPolicyV1:"
      - "  - per_lane_log_max_bytes"
      - "  - per_job_log_ttl_days"
      - "  - keep_last_n_jobs_per_lane"
      - "Implement pruning logic that runs:"
      - "  - after job completion (best-effort), and"
      - "  - in `apm2 fac gc` escalation."
      - "Emit pruning receipts (bytes freed)."
    out_of_scope:
      - "Remote log archival."
  plan:
    steps:
      - "Implement lane log directory scanner and deterministic prune planner."
      - "Wire into cleanup and GC."
  definition_of_done:
    evidence_ids: []
    criteria:
      - "Logs cannot grow without bound; retention is deterministic and auditable."
