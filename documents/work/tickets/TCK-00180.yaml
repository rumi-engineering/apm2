acceptance_criteria:
  - criterion: LedgerBackend trait defined with append, read_from, head, verify_chain methods
    verification: Manual verification required
  - criterion: SqliteLedgerBackend wraps existing Ledger implementation
    verification: Manual verification required
  - criterion: All existing ledger tests pass
    verification: Manual verification required
  - criterion: No behavioral changes to existing code
    verification: Manual verification required
implementation:
  code_examples: []
  files_to_create:
    - path: crates/apm2-core/src/ledger/backend.rs
      purpose: LedgerBackend trait definition
  files_to_modify:
    - changes: Extract trait, rename struct
      path: crates/apm2-core/src/ledger/storage.rs
    - changes: Export new types
      path: crates/apm2-core/src/ledger/mod.rs
  implementation_steps: []
  summary: "Refactor the existing Ledger struct in crates/apm2-core/src/ledger/storage.rs\nto implement a new LedgerBackend trait. The existing behavior becomes\nSqliteLedgerBackend. All existing callers continue to work unchanged.\n"
notes: "Phase: P0\nGenerated from RFC RFC-0014 ticket decomposition on 2026-01-28."
schema_version: "2026-01-26"
template_version: "2026-01-26"
test_requirements:
  - description: Unit tests pass
    test_id: UT-00180-01
    verification_command: cargo test -p apm2-core tck_00180
  - description: Integration test
    test_id: IT-00180-01
    verification_command: cargo run --bin apm2 -- factory tickets emit --rfc RFC-0014
ticket:
  depends_on: []
  id: TCK-00180
  requirement_ids: []
  rfc_id: RFC-0014
  status: READY
  title: Extract LedgerBackend Trait from Existing Ledger
