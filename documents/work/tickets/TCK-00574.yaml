ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00574"
    title: "Network policy for job units: default deny network for gates, allow only for explicit fetch/warm phases (policy-driven)"
    status: "MERGED"
    merge_evidence:
      - pr: 724
        merge_commit: "cef719dd0e3965f213c04d279c6e4862b0c6bbc9"
        merged_at: "2026-02-17T19:20:25Z"
  binds:
    prd_id: "PRD-PLACEHOLDER"
    rfc_id: "RFC-0019"
    requirements: []
    evidence_artifacts: []
  custody:
    agent_roles: ["AGENT_IMPLEMENTER"]
    responsibility_domains: ["DOMAIN_SECURITY"]
  dependencies:
    tickets:
      - ticket_id: "TCK-00573"
        reason: "Unit hardening framework exists."
  scope:
    in_scope:
      - "Define policy knobs for network access by job kind and phase."
      - "Default posture:"
      - "  - gates/test/clippy/doc: network denied"
      - "  - warm/fetch: network allowed (if needed)"
      - "Enforce via systemd directives (IPAddressDeny/Allow, PrivateNetwork) where feasible."
      - "Record network policy decision in receipts."
    out_of_scope:
      - "Network shaping and bandwidth accounting."
  plan:
    steps:
      - "Add network policy fields to FacPolicyV1."
      - "Implement unit builder mapping."
      - "Add smoke tests (gates still run after warm)."
  definition_of_done:
    evidence_ids: []
    criteria:
      - "In default mode, evidence gates cannot open network connections unless explicitly allowed by policy."
