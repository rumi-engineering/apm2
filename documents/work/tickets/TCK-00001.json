{
  "schema": "apm2.ticket.v1",
  "ticket_meta": {
    "schema_version": "2026-01-24",
    "template_version": "2026-01-24",
    "ticket": {
      "id": "TCK-00001",
      "title": "Implement ledger storage layer with SQLite WAL"
    },
    "binds": {
      "prd_id": "PRD-0001",
      "rfc_id": "RFC-0001",
      "requirements": [
        {
          "requirement_id": "REQ-0006",
          "requirement_ref": "documents/prds/PRD-0001/requirements/REQ-0006.yaml#prd_requirement"
        },
        {
          "requirement_id": "REQ-0008",
          "requirement_ref": "documents/prds/PRD-0001/requirements/REQ-0008.yaml#prd_requirement"
        },
        {
          "requirement_id": "REQ-1001",
          "requirement_ref": "documents/rfcs/RFC-0001/requirements/REQ-1001.yaml#rfc_requirement"
        }
      ],
      "evidence_artifacts": [
        {
          "evidence_id": "EVID-0004",
          "artifact_ref": "documents/prds/PRD-0001/evidence_artifacts/EVID-0004.yaml#prd_evidence_artifact"
        }
      ]
    },
    "custody": {
      "agent_roles": [
        "AGENT_IMPLEMENTER"
      ],
      "responsibility_domains": [
        "DOMAIN_KERNEL"
      ]
    },
    "dependencies": {
      "tickets": []
    },
    "scope": {
      "in_scope": [
        "Create SQLite database with events table",
        "Implement append-only write semantics",
        "Implement cursor-based read",
        "Enable WAL mode for concurrent reads",
        "Create artifact_refs table for CAS"
      ],
      "out_of_scope": [
        "Hash chaining (TCK-00003)",
        "Projection tables (TCK-00004)"
      ]
    },
    "plan": {
      "steps": []
    },
    "definition_of_done": {
      "evidence_ids": [
        "EVID-0004"
      ],
      "criteria": [
        "SQLite database created with correct schema",
        "Events can be appended in order",
        "Events can be read by sequence number or cursor",
        "WAL mode verified with concurrent read test",
        "Unit tests for all CRUD operations"
      ]
    },
    "notes": {
      "security": "default-deny, least privilege, fail-closed"
    }
  }
}
