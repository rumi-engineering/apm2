{
  "schema": "apm2.ticket.v1",
  "ticket_meta": {
    "schema_version": "2026-01-24",
    "template_version": "2026-01-24",
    "ticket": {
      "id": "TCK-00081",
      "title": "Document sccache setup in CONTRIBUTING.md"
    },
    "binds": {
      "prd_id": "NONE",
      "rfc_id": "RFC-0007",
      "requirements": [
        {
          "requirement_id": "PERF-002",
          "requirement_ref": "documents/rfcs/RFC-0007/01_problem_and_imports.yaml#rfc_local_requirements.requirements[1]"
        }
      ],
      "evidence_artifacts": [
        {
          "evidence_id": "EVID-7002",
          "artifact_ref": "documents/work/tickets/TCK-00081.md#evidence"
        }
      ]
    },
    "custody": {
      "agent_roles": [
        "AGENT_IMPLEMENTER"
      ],
      "responsibility_domains": [
        "DOMAIN_DEVELOPER_EXPERIENCE"
      ]
    },
    "dependencies": {
      "tickets": [
        "TCK-00080"
      ]
    },
    "scope": {
      "in_scope": [
        "Add Build Optimization section to CONTRIBUTING.md",
        "Document sccache installation: cargo install sccache",
        "Document sccache configuration: export RUSTC_WRAPPER=sccache",
        "Document verification: sccache --show-stats",
        "Explain benefits for multi-worktree development",
        "Explain how sccache avoids CARGO_TARGET_DIR locking issues"
      ],
      "out_of_scope": [
        "Remote sccache configuration (S3, Redis, etc.)",
        "CI sccache setup",
        "sccache troubleshooting guide"
      ]
    },
    "plan": {
      "steps": [
        "Read current CONTRIBUTING.md structure",
        "Identify appropriate location for Build Optimization section",
        "Add '## Build Optimization' section header",
        "Add '### Shared Compilation Cache (sccache)' subsection",
        "Document what sccache is and why it helps with worktrees",
        "Document installation: cargo install sccache",
        "Document shell configuration: export RUSTC_WRAPPER=sccache",
        "Document verification command: sccache --show-stats",
        "Explain cache location (~/.cache/sccache)",
        "Explain benefit: parallel builds in multiple worktrees",
        "Verify CONTRIBUTING.md renders correctly",
        "Verify sccache documentation is accurate"
      ]
    },
    "definition_of_done": {
      "evidence_ids": [
        "EVID-7002"
      ],
      "criteria": [
        "CONTRIBUTING.md has Build Optimization section",
        "sccache subsection exists",
        "Installation command is documented: cargo install sccache",
        "Configuration is documented: export RUSTC_WRAPPER=sccache",
        "Verification command is documented: sccache --show-stats",
        "Benefits for multi-worktree development are explained",
        "Documentation is copy-pasteable"
      ]
    },
    "notes": {
      "security": "sccache stores compiled artifacts locally by default. No credentials or\nsensitive data is cached. The cache contains only compiled object files\nderived from source code already in the repository.\n",
      "implementation_details": "Documentation content to add:\n\n```markdown\n## Build Optimization\n\nThe project uses worktree-based development, which can lead to redundant\ncompilation across worktrees. These optimizations help reduce build times.\n\n### Shared Compilation Cache (sccache)\n\n[sccache](https://github.com/mozilla/sccache) caches compiled artifacts\nand shares them across different Cargo target directories. This is\nparticularly useful for worktree-based development where each worktree\nhas its own `target/` directory.\n\n**Installation:**\n```bash\ncargo install sccache\n```\n\n**Configuration:** Add to your shell profile (`~/.bashrc` or `~/.zshrc`):\n```bash\nexport RUSTC_WRAPPER=sccache\n```\n\n**Verification:**\n```bash\nsccache --show-stats\n```\n\n**Benefits:**\n- Compilation artifacts shared across all worktrees\n- No file locking conflicts (unlike shared CARGO_TARGET_DIR)\n- Automatic cache management\n- Cache stored at `~/.cache/sccache`\n\n**Troubleshooting:**\nIf you experience cache-related issues, clear the cache:\n```bash\nrm -rf ~/.cache/sccache\n```\n```\n",
      "affected_files": "Modified: CONTRIBUTING.md (add sccache documentation)\n"
    }
  }
}
