ticket_meta:
  schema_version: '2026-01-29'
  template_version: '2026-01-29'
  ticket:
    id: TCK-00634
    title: 'RFC-0032 Phase 1: extend EvidenceCategory for FAC evidence anchors (WORK_CONTEXT_ENTRY / WORK_AUTHORITY_BINDINGS / WORK_LOOP_PROFILE)'
    status: MERGED
  binds:
    prd_id: PRD-PLACEHOLDER
    rfc_id: RFC-0032
    requirements: []
    evidence_artifacts: []
  custody:
    agent_roles:
    - AGENT_IMPLEMENTER
    responsibility_domains:
    - DOMAIN_CORE
    - DOMAIN_EVIDENCE
  dependencies:
    tickets:
    - ticket_id: TCK-00633
      reason: Schema work should land before wiring categories to protocol handlers
  scope:
    in_scope:
    - Extend `crates/apm2-core/src/evidence/category.rs` to include FAC-specific categories required by RFC-0032
    - Ensure string parsing/serialization is stable and case-safe (Category::parse must accept exact tokens)
    - Update any match statements / reducers / projection code paths that assume a closed set of categories
    out_of_scope:
    - Adding new evidence event types (we reuse existing `evidence.published`)
  plan:
    steps:
    - Add enum variants for WORK_CONTEXT_ENTRY, WORK_AUTHORITY_BINDINGS, WORK_LOOP_PROFILE (keep existing ones intact)
    - Update `as_str()` and `parse()` implementations and add unit tests for round-trip stability
    - Audit `match EvidenceCategory` usage in daemon/core for non-exhaustive handling; add fallback behavior where required
  definition_of_done:
    evidence_ids: []
    criteria:
    - EvidenceCategory round-trip tests cover new categories.
    - No existing category strings change; backwards compatibility preserved.
