ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00481"
    title: "FAC-native review findings retrieval for orchestrator handoff"
    status: "OPEN"
  binds:
    prd_id: "PRD-0009"
    rfc_id: "RFC-0019"
    requirements: []
    evidence_artifacts: []
  custody:
    agent_roles:
      - "AGENT_IMPLEMENTER"
      - "AGENT_REVIEWER"
    responsibility_domains:
      - "DOMAIN_CI"
      - "DOMAIN_RUNTIME"
  dependencies:
    tickets: []
  scope:
    in_scope:
      - "Add a FAC-native way to fetch current review findings for a PR without scraping GitHub comments manually."
      - "Return structured findings with severity labels (BLOCKER/MAJOR/MINOR/NIT) and SHA binding."
      - "Support orchestrator consumption for implementor handoff payloads."
    out_of_scope:
      - "Changing review prompt policy or reviewer scoring semantics."
      - "Replacing GitHub PR comment projection behavior."
  plan:
    steps:
      - "Define a command surface for findings retrieval (for example `apm2 fac review findings --pr <N> --json`)."
      - "Parse and normalize latest security and quality review artifacts for the PR HEAD SHA."
      - "Emit fail-closed status when findings cannot be bound to current HEAD SHA."
      - "Update orchestrator-monitor workflow docs to use the new FAC command and remove temporary GitHub comment query instructions."
  definition_of_done:
    evidence_ids: []
    criteria:
      - "Orchestrator can retrieve latest review findings through FAC command output only."
      - "Findings output includes severity, reviewer type, SHA binding, and raw evidence pointer."
      - "Ambiguous or stale findings return fail-closed state instead of permissive empty output."
  notes:
    general: |
      Temporary workflow remains: orchestrator queries PR comments with markers
      `apm2-review-metadata:v1:security` and `apm2-review-metadata:v1:code-quality`
      for finding bodies. This ticket removes that dependency.
