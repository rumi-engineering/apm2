ticket_meta:
  schema_version: "2026-01-29"
  template_version: "2026-01-29"
  ticket:
    id: "TCK-00465"
    title: "RFC-0028 REQ-0004 boundary-flow integrity and declassification receipt enforcement"
    status: "OPEN"
  binds:
    prd_id: "PRD-0010"
    rfc_id: "RFC-0028"
    requirements:
      - requirement_id: "REQ-0004"
        requirement_ref: "documents/rfcs/RFC-0028/requirements/REQ-0004.yaml#requirement"
    evidence_artifacts:
      - evidence_id: "EVID-0004"
        artifact_ref: "documents/rfcs/RFC-0028/evidence_artifacts/EVID-0004.yaml#evidence_artifact"
      - evidence_id: "EVID-0005"
        artifact_ref: "documents/rfcs/RFC-0028/evidence_artifacts/EVID-0005.yaml#evidence_artifact"
  custody:
    agent_roles:
      - "AGENT_IMPLEMENTER"
      - "AGENT_REVIEWER"
      - "AGENT_QA"
    responsibility_domains:
      - "DOMAIN_SECURITY"
      - "DOMAIN_RUNTIME"
      - "DOMAIN_OBSERVABILITY"
  dependencies:
    tickets:
      - ticket_id: "TCK-00462"
        reason: "Boundary-flow admission records must compose with lifecycle intent typing."
  scope:
    in_scope:
      - "Implement strict boundary_admit predicate checks (capability, taint, classification, declassification receipt validity)."
      - "Enforce REDUNDANCY_PURPOSE declassification constraints and explicit deny for unknown/unscoped intents."
      - "Add typed leakage-budget receipts (`leakage_bits`, estimator family, confidence metadata)."
      - "Emit structured defects and quarantine paths for leakage or timing-channel budget violations."
    out_of_scope:
      - "Cross-site reliability optimization and queuing policy."
      - "New sink-family onboarding policy beyond current profile binding."
  plan:
    steps:
      - "Bind boundary-flow policy digest and canonicalizer tuple checks to gate decisions."
      - "Add declassification receipt validation and denial paths for plaintext semantics leakage."
      - "Implement timing-channel release-bucketing checks and quarantine behavior."
      - "Add adversarial integration tests for boundary downgrade and leakage overrun."
  definition_of_done:
    evidence_ids:
      - "EVID-0004"
      - "EVID-0005"
    criteria:
      - "Boundary downgrade without valid declassification receipt is denied."
      - "Timing variance above budget is treated as leakage violation and quarantines affected channel."
      - "Declassification intent ambiguity fails closed."
  notes:
    security: |
      Boundary policy evaluation is fail-closed; no permissive fallback on missing policy state.
    verification: |
      Include explicit leakage-overrun and timing-channel violation traces.
    general: |
      This ticket establishes the dual-lattice and declassification controls used by REQ-0007.
