{
  "schema": "apm2.ticket.v1",
  "ticket_meta": {
    "schema_version": "2026-01-25",
    "template_version": "2026-01-25",
    "ticket": {
      "id": "TCK-00075",
      "title": "Implement Hypothesis Execution Engine"
    },
    "binds": {
      "prd_id": "NONE",
      "rfc_id": "RFC-0006",
      "requirements": [
        {
          "requirement_id": "AAT-003",
          "requirement_ref": "documents/rfcs/RFC-0006/01_problem_and_imports.yaml#rfc_local_requirements.requirements[16]"
        }
      ],
      "evidence_artifacts": []
    },
    "custody": {
      "agent_roles": [
        "AGENT_IMPLEMENTER"
      ],
      "responsibility_domains": [
        "DOMAIN_BUILD_RELEASE"
      ]
    },
    "dependencies": {
      "tickets": [
        "TCK-00074"
      ]
    },
    "scope": {
      "in_scope": [
        "Create execute_hypothesis() function",
        "Run verification commands in shell",
        "Capture stdout, stderr, exit code",
        "Set executed_at timestamp AFTER execution",
        "Compare actual outcome to prediction",
        "Mark result as PASSED/FAILED"
      ],
      "out_of_scope": [
        "Parallel hypothesis execution",
        "Timeout configuration per hypothesis",
        "Retry logic for flaky tests"
      ]
    },
    "plan": {
      "steps": [
        "Create xtask/src/aat/executor.rs module",
        "Define HypothesisExecutor struct",
        "Implement execute_hypothesis() method",
        "Use std::process::Command to run verification_method",
        "Capture Output { stdout, stderr, status }",
        "Set executed_at = Utc::now() after command completes",
        "Determine result: exit_code == 0 means PASSED, else FAILED",
        "Store stdout, stderr, exit_code in Hypothesis",
        "Integrate executor into aat.rs run() function",
        "Execute each hypothesis in sequence",
        "Verify cargo build succeeds",
        "Verify cargo test passes",
        "Verify cargo clippy passes with no warnings"
      ]
    },
    "definition_of_done": {
      "evidence_ids": [],
      "criteria": [
        "HypothesisExecutor exists in xtask/src/aat/executor.rs",
        "execute_hypothesis() runs verification_method command",
        "stdout, stderr captured and stored in Hypothesis",
        "exit_code captured and stored in Hypothesis",
        "executed_at timestamp set AFTER command execution",
        "Result is PASSED if exit_code == 0, FAILED otherwise",
        "cargo build succeeds",
        "cargo test passes",
        "cargo clippy passes with no warnings"
      ]
    },
    "notes": {
      "implementation_details": "```rust\n// xtask/src/aat/executor.rs\nuse std::process::Command;\nuse chrono::Utc;\nuse anyhow::Result;\nuse crate::aat::types::{Hypothesis, HypothesisResult};\n\npub struct HypothesisExecutor;\n\nimpl HypothesisExecutor {\n    pub fn execute(hypothesis: &mut Hypothesis) -> Result<()> {\n        let output = Command::new(\"sh\")\n            .args([\"-c\", &hypothesis.verification_method])\n            .output()?;\n\n        // Set executed_at AFTER execution completes\n        hypothesis.executed_at = Some(\n            Utc::now().format(\"%Y-%m-%dT%H:%M:%SZ\").to_string()\n        );\n\n        hypothesis.stdout = Some(\n            String::from_utf8_lossy(&output.stdout).to_string()\n        );\n        hypothesis.stderr = Some(\n            String::from_utf8_lossy(&output.stderr).to_string()\n        );\n        hypothesis.exit_code = output.status.code();\n\n        hypothesis.result = Some(if output.status.success() {\n            HypothesisResult::Passed\n        } else {\n            HypothesisResult::Failed\n        });\n\n        hypothesis.actual_outcome = Some(format!(\n            \"Exit code: {:?}\",\n            output.status.code()\n        ));\n\n        Ok(())\n    }\n}\n```\n",
      "affected_files": "New: xtask/src/aat/executor.rs\nModified: xtask/src/aat/mod.rs (add executor module)\nModified: xtask/src/tasks/aat.rs (integrate executor)\n"
    }
  }
}
