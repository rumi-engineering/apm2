{
  "schema_registry": {
    "compatibility_policy": {
      "default": "strict",
      "rules": [
        {
          "id": "SC-COMP-0001",
          "statement": "Normative artifacts must set unevaluatedProperties=false (or equivalent) to reject unknown fields."
        },
        {
          "id": "SC-COMP-0002",
          "statement": "Additive changes are allowed within a schema major version only if consumers ignore them by explicit rule; default is reject."
        },
        {
          "id": "SC-COMP-0003",
          "statement": "Deprecations must be explicit: schemas may mark fields deprecated but must continue to validate until major bump."
        }
      ]
    },
    "design": {
      "schema_id_rules": [
        "Schema IDs are stable and versioned (e.g., cac.context_pack_spec.v1).",
        "Breaking changes require new major schema ID version (v2)."
      ],
      "schema_store": "Schemas are CAC-JSON artifacts stored in CAS and referenced by stable ID + hash.",
      "validation_engine_requirements": [
        "Support JSON Schema draft 2020-12 (minimum).",
        "Fail closed on unknown keywords (unless explicitly allowed by validator profile).",
        "Enforce size/depth/resource limits during validation to prevent DoS."
      ]
    },
    "schema_discovery": {
      "bootstrap": "Kernel/CLI ships with a minimal bootstrap schema bundle pinned by hash in the binary (schema_definition + PatchRecord + AdmissionReceipt + shared refs + canonicalizer vectors). This Phase-0 trust root is immutable via the standard patch pipeline.",
      "immutability_policy": "Admission rejects patches or artifacts that attempt to modify or shadow bootstrap stable IDs.",
      "upgrade_path": "Bootstrap changes occur only via a new binary release (or a separately authorized bootstrap-upgrade flow), never via PatchRecord admission.",
      "mechanism": "Schema refs are stable IDs resolvable in DCP; schemas are themselves control artifacts."
    }
  }
}
