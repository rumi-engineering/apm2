{
  "$defs": {
    "artifact_kind": {
      "enum": [
        "schema.definition",
        "policy.profile",
        "budget.profile",
        "holon.contract",
        "skill.spec",
        "instruction.spec",
        "target.profile",
        "canonicalizer.vectors",
        "vendor.profile",
        "capabilities.manifest",
        "context_pack.spec",
        "context_pack.manifest",
        "export.manifest",
        "changeset.report",
        "bundle.manifest",
        "receipt.admission",
        "receipt.aat",
        "receipt.run",
        "defect.record"
      ],
      "type": "string"
    },
    "classification": {
      "enum": [
        "PUBLIC",
        "INTERNAL",
        "CONFIDENTIAL",
        "RESTRICTED"
      ],
      "type": "string"
    },
    "content_hash": {
      "description": "BLAKE3-256 hash reference in canonical textual form.",
      "pattern": "^b3-256:[0-9a-f]{64}$",
      "type": "string"
    },
    "id_string": {
      "maxLength": 256,
      "minLength": 1,
      "pattern": "^[A-Za-z0-9_.:-]+$",
      "type": "string"
    },
    "schema_id": {
      "description": "Stable schema identifier (e.g., cac.common.v1).",
      "pattern": "^[a-z0-9.-]+\\.v[0-9]+$",
      "type": "string"
    },
    "quantity": {
      "additionalProperties": false,
      "properties": {
        "kind": {
          "type": "string"
        },
        "scale": {
          "type": "integer"
        },
        "unit": {
          "type": "string"
        },
        "value_i64": {
          "type": "integer"
        }
      },
      "required": [
        "value_i64",
        "unit"
      ],
      "type": "object"
    },
    "stable_id": {
      "description": "Stable ID in the DCP namespace. Versioned IDs are recommended; consumption must pin to a specific version.",
      "pattern": "^dcp://[a-z0-9.-]+/[A-Za-z0-9_./:-]+(@[A-Za-z0-9_.-]+)?$",
      "type": "string"
    },
    "timestamp": {
      "format": "date-time",
      "type": "string"
    }
  },
  "$id": "cac.common.v1.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "CAC Common Types v1",
  "type": "object"
}
