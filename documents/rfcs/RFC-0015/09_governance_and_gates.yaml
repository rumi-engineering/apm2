rfc_governance_and_gates:
  schema_version: "2026-01-29"

  gate_configuration:
    gates:
      - gate_id: GATE-RFC-SCHEMA
        type: TRUSTED
        purpose: "Validate YAML structure and schema compliance"
        enforcement: "Automated lint"
        pass_criteria: "All RFC YAML files pass schema validation"

      - gate_id: GATE-RFC-DEPENDENCY-ACYCLICITY
        type: DETERMINISTIC
        purpose: "Verify no circular dependencies in ticket decomposition"
        enforcement: "Graph analysis"
        pass_criteria: "Ticket dependency graph is acyclic"

      - gate_id: GATE-RFC-SCOPE-COVERAGE
        type: DETERMINISTIC
        purpose: "Verify all imported requirements are addressed"
        enforcement: "Traceability check"
        pass_criteria: "Each imported requirement maps to at least one ticket group"

      - gate_id: GATE-RFC-CCP-MAPPING
        type: DETERMINISTIC
        purpose: "Verify file paths in component mapping exist in CCP"
        enforcement: "CCP index lookup"
        pass_criteria: "All verified_components paths exist in CCP; new_components paths are valid targets"

      - gate_id: GATE-RFC-ATOMICITY
        type: LLM_ASSISTED
        purpose: "Assess ticket atomicity (single-PR completable)"
        enforcement: "LLM review"
        pass_criteria: "Each ticket is implementable in a single PR without excessive scope"

      - gate_id: GATE-RFC-IMPLEMENTABILITY
        type: LLM_ASSISTED
        purpose: "Assess agent implementability (clear, unambiguous)"
        enforcement: "LLM review"
        pass_criteria: "Implementation guidance is sufficient for an agent to implement without human clarification"

      - gate_id: GATE-RFC-ANTI-COUSIN
        type: LLM_ASSISTED
        purpose: "Verify no cousin abstractions or duplicate patterns"
        enforcement: "LLM review + CCP cross-reference"
        pass_criteria: "No new abstractions duplicate existing patterns; reuse is preferred"

      - gate_id: GATE-RFC-SECURITY
        type: LLM_ASSISTED
        purpose: "Security review of trust boundaries and attack vectors"
        enforcement: "Security reviewer LLM"
        pass_criteria: "No unmitigated security risks; trust boundaries are complete"

      - gate_id: GATE-RFC-REQUIREMENT-FIDELITY
        type: LLM_ASSISTED
        purpose: "Verify design decisions satisfy imported requirements"
        enforcement: "LLM traceability review"
        pass_criteria: "Each requirement's acceptance criteria is addressable by design decisions"

  phase_gates:
    v0_to_v2:
      required_gates:
        - GATE-RFC-SCHEMA
        - GATE-RFC-SCOPE-COVERAGE
      purpose: "Validate initial RFC structure before codebase exploration"
      pass_criteria: "Schema valid, requirements imported, scope defined"

    v2_to_v4:
      required_gates:
        - GATE-RFC-SCHEMA
        - GATE-RFC-DEPENDENCY-ACYCLICITY
        - GATE-RFC-SCOPE-COVERAGE
        - GATE-RFC-CCP-MAPPING
        - GATE-RFC-ATOMICITY
        - GATE-RFC-IMPLEMENTABILITY
        - GATE-RFC-ANTI-COUSIN
        - GATE-RFC-SECURITY
        - GATE-RFC-REQUIREMENT-FIDELITY
      purpose: "Full gate review before ticket decomposition"
      pass_criteria: "All gates pass or APPROVED_WITH_REMEDIATION"

    v4_to_tickets:
      required_gates:
        - GATE-TCK-SCHEMA
        - GATE-TCK-DEPENDENCY-ACYCLICITY
        - GATE-TCK-SCOPE-COVERAGE
        - GATE-TCK-CCP-MAPPING
        - GATE-TCK-ATOMICITY
        - GATE-TCK-IMPLEMENTABILITY
        - GATE-TCK-ANTI-COUSIN
      purpose: "Validate generated tickets before emission"
      pass_criteria: "All ticket gates pass"

  approval_requirements:
    authority_signoffs:
      - authority: AUTH_ARCHITECTURE
        required_for: "v2 -> v4 transition"
        scope: "Design decisions validation"

      - authority: AUTH_SECURITY
        required_for: "v2 -> v4 transition"
        scope: "Trust boundaries and attack vector review"

      - authority: AUTH_PRODUCT
        required_for: "v4 approval"
        scope: "PRD alignment verification"

  verdict_rules:
    APPROVED:
      criteria:
        - "All gates passed"
        - "Zero BLOCKER findings"
        - "Zero MAJOR findings"

    APPROVED_WITH_REMEDIATION:
      criteria:
        - "All gates passed"
        - "Zero BLOCKER findings"
        - "1-3 MAJOR findings with documented fixes"

    REJECTED:
      criteria:
        - "Any gate failed"
        - "OR >3 MAJOR findings"
        - "OR any BLOCKER finding unresolved"

    NEEDS_ADJUDICATION:
      criteria:
        - "Council deadlocked on critical finding"
        - "OR confidence is LOW on design decision"

  current_status:
    version: "v4"
    phase: "Standard"
    next_phase: "DECOMPOSE (Ticket Generation)"
    gate_status:
      GATE-RFC-SCHEMA: PASSED
      GATE-RFC-DEPENDENCY-ACYCLICITY: PASSED
      GATE-RFC-SCOPE-COVERAGE: PASSED
      GATE-RFC-CCP-MAPPING: PASSED
      GATE-RFC-ATOMICITY: PASSED
      GATE-RFC-IMPLEMENTABILITY: PASSED
      GATE-RFC-ANTI-COUSIN: PASSED
      GATE-RFC-SECURITY: PASSED_WITH_REMEDIATION
      GATE-RFC-REQUIREMENT-FIDELITY: PASSED
    open_blockers: []
    resolved_blockers:
      - "F-SA3-001: Lease Revocation Gap - resolved via LeaseRevoked event + TTL reduction"
      - "F-SA3-002: WARN Mode Security Gap - resolved via 7-day limit + sensitive domain exclusion"
      - "F-SA3-004: TB-0003 Runtime Enforcement - resolved via network policy"
      - "F-SA3-012: Insider Threat Model - resolved via ADV-0005 + dual-control"
    notes: |
      RFC v4 (Standard) achieved after FINALIZE council session.
      All 9 gates passed. All design decisions upgraded to VALIDATED.
      All open questions resolved or explicitly deferred.
      Ready for DECOMPOSE phase to generate implementation tickets.

  review_history:
    - review_id: REV-RFC-0015-001
      date: "2026-01-29"
      type: CREATE
      reviewer: "rfc-council (CREATE mode)"
      findings: []
      verdict: "RFC v0 created successfully"

    - review_id: REV-RFC-0015-002
      date: "2026-01-29"
      type: EXPLORE
      reviewer: "rfc-council (EXPLORE mode)"
      findings:
        - "Q-RFC-FAC-0001 resolved: EXTEND kernel_events.proto"
        - "Q-RFC-FAC-0002 resolved: ContextAwareValidator middleware"
        - "Q-RFC-FAC-0005 resolved: Reuse TranscriptChunk from CAC"
        - "Pattern alignment score: 6.2/10"
      verdict: "RFC v2 (Grounded) achieved"

    - review_id: REV-RFC-0015-003
      date: "2026-01-29"
      type: FINALIZE
      reviewer: "rfc-council (FINALIZE mode)"
      council_session_id: "COUNCIL-RFC-0015-FINALIZE-20260129"
      subagents:
        - agent_id: SA-1
          role: "Structural Rigorist"
          modes: [3, 16, 42, 58, 74]
          artifact: "Explanatory Scoring Table"
          verdict: "All decisions meet 3.5+ threshold; mean score 4.08/5.0"
        - agent_id: SA-2
          role: "Implementation Feasibility"
          modes: [11, 39, 47, 51, 70]
          artifact: "Mock Implementation Run Report"
          verdict: "GO_WITH_REMEDIATION; 68% confidence; 55 calibrated tickets"
        - agent_id: SA-3
          role: "Security & Anti-Cousin Guardian"
          modes: [8, 35, 49, 65, 80]
          artifact: "CAE Tree"
          verdict: "APPROVE_WITH_CONDITIONS; 91% confidence"
      findings:
        - "All 6 HYPOTHESIS decisions upgraded to VALIDATED"
        - "All 6 open questions resolved or deferred"
        - "All 4 MAJOR security findings resolved"
        - "ADV-0005 (insider threat) model added"
        - "Anti-cousin verdict: NO COUSIN ABSTRACTIONS"
      verdict: "APPROVED_WITH_REMEDIATION - RFC v4 (Standard) achieved"
