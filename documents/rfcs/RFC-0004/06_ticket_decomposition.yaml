rfc_ticket_decomposition:
  decomposition_strategy: "Parallel module construction with shared types foundation"

  phases:
    - phase: 0
      name: "Shared Types Foundation"
      description: "Define all shared types to enable parallel development"
      tickets:
        - ticket_id: "TCK-00050"
          title: "Define AAT shared types"
          requirements:
            - "REQ-0001"
          dependencies: []
          scope_summary: |
            Create xtask/src/aat/types.rs with ALL shared types:
            ParsedPRDescription, OutcomeItem, KnownLimitation, ParseError,
            GamingViolation, TodoItem, AntiGamingResult, EvidenceBundle,
            Hypothesis, PrDescriptionParse, Verdict. No logic, just definitions
            with serde derives.

    - phase: 1
      name: "Parallel Logic Modules"
      description: "Build parser, anti-gaming, and evidence modules in parallel"
      tickets:
        - ticket_id: "TCK-00051"
          title: "Implement PR parser logic"
          requirements:
            - "REQ-0001"
          dependencies:
            - "TCK-00050"
          scope_summary: |
            Create xtask/src/aat/parser.rs module that parses PR descriptions
            to extract Usage, Expected Outcomes, Evidence Script, and Known
            Limitations sections. Uses types from TCK-00050.

        - ticket_id: "TCK-00052"
          title: "Implement anti-gaming logic"
          requirements:
            - "REQ-0004"
            - "REQ-0005"
          dependencies:
            - "TCK-00050"
          scope_summary: |
            Create xtask/src/aat/anti_gaming.rs module that analyzes git diffs
            to detect gaming patterns: if-test conditionals, hardcoded UUIDs,
            mock prefixes, and undocumented TODOs. Uses types from TCK-00050.

        - ticket_id: "TCK-00053"
          title: "Implement evidence bundle logic"
          requirements:
            - "REQ-0006"
            - "REQ-0003"
          dependencies:
            - "TCK-00050"
          scope_summary: |
            Create xtask/src/aat/evidence.rs module that generates JSON evidence
            bundles matching the schema in documents/skills/aat/SKILL.md.
            Uses types from TCK-00050.

    - phase: 2
      name: "Command Integration"
      description: "Wire everything together as xtask command"
      tickets:
        - ticket_id: "TCK-00054"
          title: "Implement AAT xtask command"
          requirements:
            - "REQ-0002"
            - "REQ-0008"
            - "REQ-0003"
          dependencies:
            - "TCK-00051"
            - "TCK-00052"
            - "TCK-00053"
          scope_summary: |
            Create xtask/src/tasks/aat.rs implementing the main AAT command.
            Orchestrates: fetch PR via gh CLI, parse description, run anti-gaming,
            invoke AAT skill for hypothesis generation/execution, generate
            evidence bundle, and set GitHub status check.

  dependency_graph: |
    Level 0:           ┌─────────────┐
                       │  TCK-00050  │  Shared Types
                       └──────┬──────┘
                              │
             ┌────────────────┼────────────────┐
             │                │                │
    Level 1: ▼                ▼                ▼
       ┌───────────┐    ┌───────────┐    ┌───────────┐
       │ TCK-00051 │    │ TCK-00052 │    │ TCK-00053 │
       │  Parser   │    │ Anti-Game │    │ Evidence  │
       └─────┬─────┘    └─────┬─────┘    └─────┬─────┘
             │                │                │
             └────────────────┼────────────────┘
                              │
    Level 2:           ┌──────▼──────┐
                       │  TCK-00054  │  AAT Command
                       └─────────────┘

    Parallelism: 3 tickets at Level 1 can execute simultaneously

  notes: |
    All tickets implement modules within xtask, not a separate crate.
    The AAT skill (documents/skills/aat/SKILL.md) handles LLM-driven
    hypothesis generation and execution. Rust code handles deterministic
    operations: parsing, static analysis, evidence bundling, GitHub API.

    Total: 5 tickets covering PRD-0003 requirements REQ-0001 through REQ-0008.
    Remaining requirements (REQ-0009 determinism, REQ-0010 escalation) are
    addressed by skill design and operational procedures, not code tickets.

    Parallel execution strategy:
    - Level 0: Execute TCK-00050, wait for merge
    - Level 1: Execute TCK-00051, TCK-00052, TCK-00053 in parallel, wait for all merges
    - Level 2: Execute TCK-00054, wait for merge
