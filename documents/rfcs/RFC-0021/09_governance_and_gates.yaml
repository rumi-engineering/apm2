rfc_governance_and_gates:
  schema_version: "2026-02-05"
  template_version: "2026-01-23"
  governance_id: "RFC_GOVERNANCE_V1"

  gates:
    - gate_id: "GATE-RFC-ARCHITECTURE"
      authority_role: "AUTH_ARCHITECTURE"
      required_evidence_categories:
        - "DESIGN_REVIEWS"
        - "INTEGRATION_TESTS"
      machine_predicate: "jq -e '.objective_contract_field_coverage_ratio == 1.0 and .strategy_coupling_ledger_present == true and .schema_contracts_valid == true' evidence/rfc/RFC-0021/governance/GATE-RFC-ARCHITECTURE/summary.json"
      evidence_path: "evidence/rfc/RFC-0021/governance/GATE-RFC-ARCHITECTURE/"
    - gate_id: "GATE-RFC-SECURITY"
      authority_role: "AUTH_SECURITY"
      required_evidence_categories:
        - "THREAT_MODEL_ARTIFACTS"
        - "ATTENTION_ANTI_DOWNGRADE_TESTS"
        - "AAT_BIZ_ENFORCEMENT_TESTS"
      machine_predicate: "jq -e '.dominance_order_enforced == true and .htf_time_authority_enforced == true and .wall_clock_used_for_gate_truth == false and .unknown_state_fail_closed == true and .tier2plus_bypass_count == 0' evidence/rfc/RFC-0021/governance/GATE-RFC-SECURITY/summary.json"
      evidence_path: "evidence/rfc/RFC-0021/governance/GATE-RFC-SECURITY/"
    - gate_id: "GATE-RFC-PRODUCT"
      authority_role: "AUTH_PRODUCT"
      required_evidence_categories:
        - "STRATEGY_BINDING_ARTIFACTS"
        - "BUSINESS_COUNTERMETRIC_TESTS"
      machine_predicate: "jq -e '.msc03_linkage_ratio == 1.0 and .msc05_linkage_ratio == 1.0 and .msc06_linkage_ratio == 1.0 and .aat_biz_required_paths_complete == true and .business_countermetric_coverage_ratio == 1.0' evidence/rfc/RFC-0021/governance/GATE-RFC-PRODUCT/summary.json"
      evidence_path: "evidence/rfc/RFC-0021/governance/GATE-RFC-PRODUCT/"
    - gate_id: "GATE-RFC-SCALE"
      authority_role: "AUTH_ARCHITECTURE"
      required_evidence_categories:
        - "PERFORMANCE_TESTS"
        - "SCALING_MODELS"
        - "ANTI_ENTROPY_PROOFS"
      machine_predicate: "jq -e '.verification_compute_share <= 0.45 and .anti_entropy_backlog_ticks_p95 <= 1200 and .receipt_fanout_amplification <= 1.15 and .tiered_retention_manifest_complete == true and .unknown_state_fail_closed == true' evidence/rfc/RFC-0021/governance/GATE-RFC-SCALE/summary.json"
      evidence_path: "evidence/rfc/RFC-0021/governance/GATE-RFC-SCALE/"

  gate_execution_contract:
    precedence:
      - "containment_security"
      - "verification_correctness"
      - "liveness_progress"
    ordered_gate_ids:
      - "GATE-RFC-SECURITY"
      - "GATE-RFC-ARCHITECTURE"
      - "GATE-RFC-PRODUCT"
      - "GATE-RFC-SCALE"
    fail_closed_conditions:
      - "missing_artifact"
      - "schema_invalid"
      - "parse_error"
      - "signature_invalid"
      - "htf_boundary_invalid_or_stale"
      - "predicate_unknown_or_indeterminate"

  enforcement_ratchet:
    - phase: "DRAFT->GROUNDED"
      requirement: "Signal->Work shadow loop proven with receipts and HTF-bound gate truth evidence"
    - phase: "GROUNDED->APPROVED"
      requirement: "AAT-BIZ enforcement proven for Tier2+ required paths plus scale-envelope controls in-policy"

  waivers:
    - id: "WVR-0001"
      scope:
        gate_ids:
          - "GATE-RFC-PRODUCT"
        requirement_ids:
          - "REQ-0010"
        quality_dimension_ids: []
      rationale: "Strategy exporter wiring may lag core signal/routing implementation in early prototypes"
      expiration_date: "2026-04-01"
      required_signoffs:
        - "AUTH_ARCHITECTURE"
        - "AUTH_PRODUCT"
      status: "REQUESTED"
      evidence_ids: []

  waiver_policy:
    waiver_required_keys:
      - "id"
      - "scope"
      - "rationale"
      - "expiration_date"
      - "required_signoffs"
      - "status"
      - "evidence_ids"
    waiver_status_enum_ref: "standards/enums/19_waiver_status.yaml#waiver_status.values"
