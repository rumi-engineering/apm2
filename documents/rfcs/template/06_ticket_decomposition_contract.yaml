ticket_decomposition_contract:
  version: 1
  project_id: "<PROJECT>"

  goal:
    output_ticket_count_range:
      min: 0
      max: 100
    target_ticket_size:
      max_review_lines: 400
      max_files_touched: 20

  evidence_bundles:
    ownership_rules:
      deliverable_single_owner: true
      e2e_single_owner: true
    leaf_ticket_base_case:
      max_deliverables_owned: 1
      max_e2e_owned: 1
      requires_executable_dod: true
      requires_merge_safe_strategy: true

  merge_safety_strategies:
    allowed:
      - "additive_first"
      - "feature_flag"
      - "expand_contract"
    defaults:
      interface_changes: "additive_first"
      migrations: "expand_contract"

  seeding_priority:
    - "must_deliverables"
    - "must_pass_gate_e2e"
    - "integration_wiring"
    - "remaining_must_evidence"
    - "quality_scaffolding_if_required"

  required_ticket_fields:
    - "traceability.requirements"
    - "definition_of_done.artifacts_exist"
    - "definition_of_done.commands_pass"
