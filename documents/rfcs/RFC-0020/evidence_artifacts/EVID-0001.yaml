evidence_artifact:
  schema_version: "2026-01-23"
  id: "EVID-0001"
  title: "HSI contract manifest determinism evidence"
  category: "UNIT_TEST_RESULT"
  status: "PASS"
  description: |
    Evidence that HSIContractManifestV1 generation is deterministic across
    repeat builds. Identical code and build inputs produce identical
    canonical bytes and content hash. The golden vector test pins the
    full-registry manifest hash and the minimal-manifest hash.
  requirement_ids:
    - "REQ-0001"
  source_refs:
    - "crates/apm2-daemon/src/hsi_contract/golden_vectors.rs"
    - "crates/apm2-daemon/src/hsi_contract/registry.rs"
    - "crates/apm2-daemon/src/hsi_contract/manifest.rs"
  artifacts:
    - type: "test_output"
      description: |
        Golden vector tests verify deterministic hash generation:
        - full_manifest_determinism: two builds produce identical hash
        - full_manifest_golden_hash: pinned hash a7a8ffa941c507ace06c73d5ce27ef39a9e267390c0c820c16466aa3b2ac41a7
        - minimal_manifest_golden_hash: pinned hash 4c6a6f64a3fd26e1e4b6447d0f64784be8e7135dfdc6c588758f4412478ac5d6
        - content_hash_bytes_matches_text: text and bytes forms match
      ref: "cargo test -p apm2-daemon hsi_contract::golden_vectors"
